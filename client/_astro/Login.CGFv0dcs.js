import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.Be8AcK8B.js";/* empty css                       */import{g as x,c as h}from"./config.CJaag9Y3.js";const c="/_astro/yuntas_publicidad_logo.h6dFVRry.webp",d="/_astro/Login_fondo.SxhXBwt_.webp",f=({handleLogin:s,logo:l,loginImagen:t})=>e.jsxs("div",{className:"flex h-screen w-screen bg-gray-200",children:[e.jsx("div",{className:"w-1/2 h-full bg-cover bg-center",style:{backgroundImage:`url(${t})`},children:e.jsx("div",{className:"w-full h-full bg-black/30 flex items-center justify-center",children:e.jsxs("div",{className:"Montserrat text-center max-w-2xl px-4",children:[e.jsxs("h1",{className:"sombra-title text-white text-5xl font-extrabold mb-4 leading-tight",children:["Yuntas",e.jsx("br",{}),"Producciones"]}),e.jsxs("p",{className:"sombra-blanca text-white text-3xl font-light",children:["te da la",e.jsx("br",{}),"bienvenida"]})]})})}),e.jsx("div",{className:"w-1/2 h-full flex flex-col items-center justify-center p-8",children:e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsx("img",{src:l,alt:"Logo Yuntas",className:"w-24 md:w-32 mx-auto mb-6"}),e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"BIENVENIDO"}),e.jsxs("form",{onSubmit:s,className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"email",name:"email",className:"rounded-full bg-white w-full py-3 px-4 text-black leading-tight focus:outline-none focus:ring-2 focus:ring-[#23C1DE] placeholder-gray-500",placeholder:"Usuario"})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"password",name:"password",className:"rounded-full bg-white w-full py-3 px-4 text-black leading-tight focus:outline-none focus:ring-2 focus:ring-[#23C1DE] placeholder-gray-500",placeholder:"Password"})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{className:"bg-[#23C1DE] hover:bg-[#1ca5be] text-white font-bold py-3 px-10 rounded-full focus:outline-none focus:shadow-outline transition duration-300",type:"submit",children:"INGRESAR"})})]})]})})]}),g=({handleLogin:s,logo:l,loginImagen:t})=>e.jsxs("div",{className:"h-screen w-screen bg-cover bg-center p-6 flex flex-col justify-between",style:{backgroundImage:`url(${t})`},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 z-0"}),e.jsxs("div",{className:"relative z-10 text-center Montserrat text-white pt-16",children:[e.jsxs("h1",{className:"sombra-title text-4xl font-extrabold mb-2 leading-tight",children:["Yuntas",e.jsx("br",{}),"Producciones"]}),e.jsxs("p",{className:"sombra-blanca text-2xl font-light",children:["te da la",e.jsx("br",{}),"bienvenida"]})]}),e.jsxs("div",{className:"relative z-10 bg-white/10 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md mx-auto mb-8 border border-white/20",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-white",children:"BIENVENIDO"}),e.jsxs("form",{onSubmit:s,className:"w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"email",name:"email",className:"rounded-full bg-white/80 w-full py-3 px-4 text-black leading-tight focus:outline-none focus:ring-2 focus:ring-[#23C1DE] placeholder-gray-600",placeholder:"Usuario",defaultValue:"admin@gmail.com"})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"password",name:"password",className:"rounded-full bg-white/80 w-full py-3 px-4 text-black leading-tight focus:outline-none focus:ring-2 focus:ring-[#23C1DE] placeholder-gray-600",placeholder:"Password",defaultValue:"password"})}),e.jsx("div",{className:"flex items-center justify-center mt-8",children:e.jsx("button",{className:"bg-[#23C1DE] hover:bg-[#1ca5be] text-white font-bold py-3 px-10 rounded-full focus:outline-none focus:shadow-outline transition duration-300",type:"submit",children:"INGRESAR"})})]})]})]}),N=()=>{const[s,l]=r.useState(!0);r.useEffect(()=>{localStorage.getItem("token")?window.location.href="/admin/inicio":l(!1)},[]);const t=async a=>{a.preventDefault();const o=new FormData(a.currentTarget),m=o.get("email"),u=o.get("password");try{const n=await fetch(x(h.endpoints.auth.login),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:m,password:u})}),i=await n.json();n.ok?(localStorage.setItem("token",i.data.token),window.location.href="/admin/inicio"):alert(i.message||"Error al iniciar sesión")}catch{alert("Error de conexión con el servidor.")}};return s?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(f,{handleLogin:t,logo:c,loginImagen:d})}),e.jsx("div",{className:"block md:hidden",children:e.jsx(g,{handleLogin:t,logo:c,loginImagen:d})})]})};export{N as default};
