import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.ai7qpRr1.js";const w=({producto:s})=>{console.log("üé¥ ProductCard recibi√≥ producto:",s);const a=s.image||s.images?.[0]||s.imagenes?.[0]?.url_imagen,l=s.title||s.imagenes?.[0]?.texto_alt_SEO||"Imagen de prueba";console.log("üñºÔ∏è Imagen URL calculada:",a);const i=s.title||s.titulo;console.log("üìù T√≠tulo calculado:",i);const o=s.link;return console.log("üîó Link del producto:",o),e.jsxs("a",{href:`/products/producto/?link=${o}`,className:"relative flex flex-col items-center hover:scale-105 transition-all duration-200 cursor-pointer group mb-8",children:[e.jsx("div",{className:"relative w-[280px] bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl overflow-hidden border border-gray-700",children:e.jsx("div",{className:"h-[200px] w-[280px] overflow-hidden",children:a?e.jsx("img",{className:"w-full h-full object-cover object-center",src:a.startsWith("http")?a:`https://apiyuntas.yuntaspublicidad.com${a.startsWith("/")?"":"/"}${a}`,alt:l}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center",children:e.jsx("p",{className:"text-white text-xl font-bold",children:"Sin imagen"})})})}),e.jsx("div",{className:"p-4 mt-2",children:e.jsx("p",{className:"text-white text-center text-sm font-semibold leading-tight",children:i||"Producto sin t√≠tulo"})})]})};function N(){const[s,a]=m.useState([]),[l,i]=m.useState(1),o=6,[x,b]=m.useState(!0);if(m.useEffect(()=>{(async()=>{try{console.log("üöÄ Iniciando fetch de productos...");const d=`https://apiyuntas.yuntaspublicidad.com/api/v1/productos?_t=${new Date().getTime()}`;console.log("üì° URL del endpoint:",d);const n=await fetch(d,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok){const f=await n.text();throw console.error("‚ùå Respuesta no OK:",f),new Error(`Error al obtener productos de la API: ${n.status} - ${f}`)}const h=await n.json();h.success&&Array.isArray(h.data)?a(h.data):(console.error("Error en la respuesta:",h.message),a([]))}catch(r){console.error("Error al obtener productos:",r),a([])}finally{b(!1)}})()},[]),x)return e.jsx("p",{className:"grid place-content-center min-h-screen text-white text-3xl animate-pulse font-extrabold",children:"Cargando productos..."});const u=(l-1)*o,j=u+o,p=s.slice(u,j),c=Math.ceil(s.length/o),g=[];for(let t=0;t<p.length;t+=3)g.push(p.slice(t,t+3));return e.jsx("div",{className:"w-full",children:s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-8",children:g.map((t,r)=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4 mb-4",children:[t.map((d,n)=>e.jsx("div",{className:"flex justify-center",children:e.jsx(w,{producto:d})},u+r*4+n)),t.length<3&&Array.from({length:3-t.length}).map((d,n)=>e.jsx("div",{className:"invisible",children:e.jsx("div",{className:"w-[280px] h-[200px]"})},`empty-${r}-${n}`))]}),e.jsx("div",{className:"w-full h-[2px] bg-gradient-to-r from-transparent via-cyan-400 to-transparent"})]},r))}),c>1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center items-center mt-16 space-x-8",children:[e.jsx("button",{"aria-label":"P√°gina anterior",title:"P√°gina anterior",onClick:()=>i(t=>Math.max(t-1,1)),disabled:l===1,className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300 ${l>1?"border-white/50 text-white hover:bg-white/10 hover:border-white cursor-pointer":"border-white/20 text-white/30 cursor-not-allowed"}`,children:e.jsx("span",{className:"text-2xl font-bold",children:"<"})}),e.jsx("div",{className:"flex items-center space-x-3 bg-white/10 backdrop-blur-sm border-2 border-white/30 text-white px-8 py-4 rounded-full",children:e.jsx("span",{className:"uppercase tracking-wide font-semibold text-lg",children:"ver m√°s"})}),e.jsx("button",{"aria-label":"P√°gina siguiente",title:"P√°gina siguiente",onClick:()=>i(t=>Math.min(t+1,c)),disabled:l===c,className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300 ${l<c?"border-white/50 text-white hover:bg-white/10 hover:border-white cursor-pointer":"border-white/20 text-white/30 cursor-not-allowed"}`,children:e.jsx("span",{className:"text-2xl font-bold",children:">"})})]}),e.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:c},(t,r)=>e.jsx("button",{"aria-label":`Ir a la p√°gina ${r+1}`,title:`Ir a la p√°gina ${r+1}`,onClick:()=>i(r+1),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full transition-all duration-300 ${l===r+1?"bg-white":"bg-white/30 hover:bg-white/50"}`},r))})]})]}):e.jsx("div",{className:"text-white text-center py-12",children:e.jsx("p",{children:"No hay productos disponibles"})})})}export{N as default};
