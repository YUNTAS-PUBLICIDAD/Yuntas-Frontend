import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as h,R as $}from"./index.Be8AcK8B.js";import{d as he,m as ve}from"./index.GK1F2SJ7.js";import{g as J,c as K}from"./config.CelHcebK.js";import{S as ae}from"./sweetalert2.esm.all.Bj_ZQUAw.js";import{T as we}from"./TableContainer.C49vMdQY.js";import{d as _e,S as je,c as ye,P as oe,A as Ne}from"./autoplay.C5Y-zvcZ.js";/* empty css                       */import"./admin.30f82b17.l0sNRNKZ.js";import{u as Ee}from"./useDarkMode.C4HGFL6C.js";import"./iconBase.Db4UJpFa.js";const Se=({isOpen:a,setIsOpen:e,blogToEdit:r,onSuccess:n})=>{const[g,o]=h.useState([]),[v,_]=h.useState(""),[s,k]=h.useState(!1),[p,w]=h.useState(!1),[N,S]=h.useState(null),[O,c]=h.useState(null),[f,i]=h.useState(""),[j,y]=h.useState(!1),[u,E]=h.useState(""),I={producto_id:"",subtitulo:"",link:"",meta_titulo:"",meta_descripcion:"",imagen_principal:null,text_alt_principal:"",alt_imagen_card:"",imagenes_secundarias:[null,null,null],alt_imagenes_secundarias:["","",""],parrafos:["",""],beneficios:["","",""],url_video:""},[l,C]=h.useState(I);h.useEffect(()=>{if(a)if(r){const d=r.producto_id?.toString()||"";let m=[];Array.isArray(r.parrafos)&&(m=r.parrafos.map(ee=>ee.parrafo||""));let x=[];Array.isArray(r.beneficios)&&(x=r.beneficios.map(ee=>ee.beneficio||""));const P=2,B=3,A=[...m];for(;A.length<P;)A.push("");const F=[...x];for(;F.length<B;)F.push("");C({producto_id:d,subtitulo:r.subtitulo||"",link:r.link||"",meta_titulo:r.etiqueta?.meta_titulo||"",meta_descripcion:r.etiqueta?.meta_descripcion||"",imagen_principal:null,text_alt_principal:r.text_alt_principal||"",alt_imagen_card:r.alt_imagen_card||"",imagenes_secundarias:[null,null,null],alt_imagenes_secundarias:[r.imagenes?.[0]?.text_alt||"",r.imagenes?.[1]?.text_alt||"",r.imagenes?.[2]?.text_alt||""],parrafos:A,beneficios:F,url_video:r.url_video||""}),_(r.nombre_producto||"")}else C(I),_("")},[a,r]),h.useEffect(()=>{(async()=>{if(a){k(!0);try{const m=localStorage.getItem("token"),x=await fetch(J(K.endpoints.productos.all),{method:"GET",headers:{Authorization:`Bearer ${m}`,Accept:"application/json","Content-Type":"application/json"}});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const P=await x.json();P.success&&Array.isArray(P.data)?o(P.data):Array.isArray(P)?o(P):o([])}catch(m){console.error("Error al obtener productos:",m),o([]),alert("âŒ Error al cargar los productos. Por favor, intenta de nuevo.")}finally{k(!1)}}})()},[a]);const b=d=>{C({...l,[d.target.name]:d.target.value})},q=d=>{C({...l,[d.target.name]:d.target.value})},M=(d,m)=>{const x=d.target.files?.[0];if(x){if(x.size>2048*1024){ae.fire({icon:"warning",title:"Â¡Imagen muy grande!",text:"MÃ¡x. 2 MB."}),d.target&&(d.target.value="");return}C({...l,[m]:x})}},R=(d,m)=>{const x=d.target.files?.[0]||null;if(x&&x.size>2048*1024){ae.fire({icon:"warning",title:"Â¡Imagen muy grande!",text:"MÃ¡x. 2 MB."}),d.target&&(d.target.value="");return}const P=[...l.imagenes_secundarias];P[m]=x,C({...l,imagenes_secundarias:P})},V=(d,m)=>{const x=[...l.alt_imagenes_secundarias];x[m]=d.target.value,C({...l,alt_imagenes_secundarias:x})},G=(d,m)=>{const x=[...l.parrafos];x[m]=d.target.value,C({...l,parrafos:x})},Z=d=>{const m=document.getElementById(`parrafo-${d}`);if(!m)return;const x=m.selectionStart,P=m.selectionEnd;if(x===P){ae.fire("Selecciona texto","Selecciona una palabra o frase antes de insertar el enlace.","warning");return}const B=m.value.substring(x,P);S(d),c({start:x,end:P}),i(B),w(!0)},ne=()=>{if(N===null||O===null||!u.trim())return;const d=l.parrafos[N],m=`<a href="${u}" target="_blank" rel="noopener noreferrer" title="${f}" style="color: white; font-weight: bold;">${f}</a>`,x=d.slice(0,O.start)+m+d.slice(O.end),P=[...l.parrafos];P[N]=x,C({...l,parrafos:P}),S(null),c(null),i(""),E(""),w(!1)},Y=d=>{const m=document.getElementById(`parrafo-${d}`);if(!m)return;const x=m.selectionStart,P=m.selectionEnd,B=m.value.substring(x,P);if(!B){ae.fire("Selecciona texto","Selecciona una palabra o frase para enlazar a un producto.","warning");return}S(d),c({start:x,end:P}),i(B),y(!0)},se=d=>{if(N===null||O===null)return;const m=l.parrafos[N],x=d.link,P=`<a href="/products/${x}" style="font-weight: bold;" title="${x}">${f}</a>`,B=m.slice(0,O.start)+P+m.slice(O.end),A=[...l.parrafos];A[N]=B,C({...l,parrafos:A}),S(null),c(null),i(""),y(!1)},L=()=>{e(!1),S(null),c(null),i(""),w(!1),y(!1),E(""),C(I)},D=async d=>{d.preventDefault();const m=!!r;if(!l.producto_id)return alert("âš ï¸ Debe seleccionar un producto.");if(!l.subtitulo.trim())return alert("âš ï¸ El subtÃ­tulo es obligatorio.");if(!m&&!l.imagen_principal)return alert("âš ï¸ La imagen principal es obligatoria para crear.");if(!l.subtitulo.trim())return alert("âš ï¸ El subtÃ­tulo es obligatorio.");if(!m&&!l.imagen_principal)return alert("âš ï¸ La imagen principal es obligatoria para crear.");const x=l.parrafos.filter(B=>B.trim());if(x.length===0)return alert("âš ï¸ Debe haber al menos un pÃ¡rrafo con contenido.");const P=/^[a-z0-Z0-9]+(?:-[a-z0-Z0-9]+)*$/;if(l.link&&!P.test(l.link))return alert("âš ï¸ El link debe ser URL-friendly (Solo letras, guiones y nÃºmeros).");try{k(!0);const B=localStorage.getItem("token"),A=new FormData;A.append("producto_id",l.producto_id),A.append("subtitulo",l.subtitulo),A.append("url_video",l.url_video),l.link?.trim()&&A.append("link",l.link.trim());const F={meta_titulo:l.meta_titulo?.trim()||"",meta_descripcion:l.meta_descripcion?.trim()||""};(F.meta_titulo||F.meta_descripcion)&&A.append("etiqueta",JSON.stringify(F)),l.text_alt_principal?.trim()&&A.append("text_alt_principal",l.text_alt_principal.trim()),l.alt_imagen_card?.trim()&&A.append("alt_imagen_card",l.alt_imagen_card.trim()),l.imagen_principal&&A.append("imagen_principal",l.imagen_principal),l.imagenes_secundarias.filter(z=>z!==null).forEach(z=>A.append("imagenes[]",z)),l.alt_imagenes_secundarias.forEach((z,W)=>{(l.imagenes_secundarias[W]!==null||m&&z.trim())&&A.append("alt_imagenes[]",z.trim())}),x.length>0&&x.forEach(z=>{A.append("parrafos[]",z)}),l.beneficios&&l.beneficios.length>0&&l.beneficios.forEach(z=>{z.trim()!==""&&A.append("beneficios[]",z.trim())});const be=m?J(K.endpoints.blogs.update(r.id)):J(K.endpoints.blogs.create);m&&A.append("_method","PUT");const te=await fetch(be,{method:"POST",body:A,headers:{Authorization:`Bearer ${B}`,Accept:"application/json"}});let T;try{T=await te.json()}catch{T=await te.text()}if(te.ok)alert(`âœ… Blog ${m?"actualizado":"creado"} correctamente.`),L(),n?.();else if(T.errors){let z=`âŒ Errores de validaciÃ³n:
`;Object.keys(T.errors).forEach(W=>{const xe=Array.isArray(T.errors[W])?T.errors[W]:[T.errors[W]];z+=`â€¢ ${W}: ${xe.join(", ")}
`}),alert(z)}else alert(`âŒ Error (${te.status}): ${T.message||JSON.stringify(T)}`)}catch(B){console.error("âŒ Error en la solicitud:",B),alert("âŒ Error en la conexiÃ³n con el servidor.")}finally{k(!1)}};return a?t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:t.jsxs("div",{className:"bg-white text-black px-4 sm:px-6 md:px-8 py-6 rounded-lg max-h-[90vh] w-full max-w-5xl mx-2 overflow-y-auto",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6 text-center md:text-left",children:r?"Editar Blog":"AÃ±adir Blog"}),t.jsx("form",{onSubmit:D,encType:"multipart/form-data",className:"space-y-8",children:t.jsxs("div",{className:"bg-blue-50 p-4 sm:p-6 rounded-lg border border-blue-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"InformaciÃ³n Principal & SEO"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"col-span-1 md:col-span-4",children:[t.jsxs("label",{className:"block mb-2 font-medium",children:["Producto ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"producto_id",value:l.producto_id,onChange:q,required:!0,className:"w-full bg-white text-black p-2 rounded-md border border-gray-300",disabled:s,children:[t.jsx("option",{value:"",children:s?"Cargando productos...":"-- Selecciona un producto --"}),g.map(d=>t.jsx("option",{value:d.id.toString(),children:d.nombre||`Producto ${d.id}`},d.id))]}),t.jsx("small",{className:"text-gray-500",children:"Selecciona el producto relacionado con este blog. Requerido."}),v&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Producto seleccionado: ",t.jsx("strong",{children:v})]})]}),t.jsxs("div",{className:"col-span-1 md:col-span-2",children:[t.jsxs("label",{className:"block font-medium mb-1",children:["SubtÃ­tulo ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{name:"subtitulo",value:l.subtitulo,onChange:b,className:"w-full border border-gray-300 rounded px-3 py-2",required:!0}),t.jsx("small",{className:"text-gray-500 block mt-1",children:"MÃ¡x. 120 caracteres (letras, nÃºmeros y espacios)."})]}),t.jsxs("div",{className:"col-span-1 md:col-span-2",children:[t.jsx("label",{className:"block font-medium mb-1",children:"Meta tÃ­tulo"}),t.jsx("input",{type:"text",name:"meta_titulo",value:l.meta_titulo||"",onChange:b,placeholder:"TÃ­tulo optimizado para SEO",className:"w-full border border-gray-300 rounded px-3 py-2"}),t.jsx("small",{className:"text-gray-500 block mt-1",children:"MÃ¡x. 70 caracteres (letras, nÃºmeros y espacios)."})]}),t.jsxs("div",{className:"col-span-1 md:col-span-4",children:[t.jsx("label",{className:"block font-medium mb-1",children:"Meta descripciÃ³n"}),t.jsx("textarea",{name:"meta_descripcion",value:l.meta_descripcion||"",onChange:b,placeholder:"DescripciÃ³n optimizada para SEO",className:"w-full border border-gray-300 rounded px-3 py-2"}),t.jsx("small",{className:"text-gray-500 block mt-1",children:"MÃ¡x. 160 caracteres (letras, nÃºmeros y espacios)."})]}),t.jsxs("div",{className:"col-span-1 md:col-span-4",children:[t.jsx("label",{className:"block font-medium mb-1",children:"Link (URL amigable)"}),t.jsx("input",{type:"text",name:"link",value:l.link,onChange:b,placeholder:"ejemplo: mi-blog-post",className:"w-full border border-gray-300 rounded px-3 py-2"}),t.jsx("small",{className:"text-gray-500",children:"Escribe solo letras y guiones. MÃ¡x. 255 letras o nÃºmeros."})]})]}),t.jsxs("div",{className:"bg-green-50 p-4 sm:p-6 rounded-lg border border-green-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"ImÃ¡genes"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border border-green-400 rounded p-4",children:[t.jsxs("label",{className:"block font-medium mb-2",children:["Imagen Principal"," ",!r&&t.jsx("span",{className:"text-red-500",children:"*"})]}),r?.imagen_principal&&t.jsx("img",{src:r.imagen_principal,alt:l.text_alt_principal||"Imagen principal",className:"w-full h-48 sm:h-64 object-cover rounded mb-4 border"}),t.jsx("input",{type:"file",accept:"image/*",onChange:d=>M(d,"imagen_principal"),className:"w-full file:py-2 file:px-3 file:border-0 file:bg-green-100 file:text-green-700 hover:file:bg-green-200"}),t.jsx("small",{className:"text-gray-500",children:"Peso mÃ¡ximo: 2 MB."}),t.jsx("input",{type:"text",name:"text_alt_principal",placeholder:"Texto ALT para SEO",value:l.text_alt_principal,onChange:b,className:"mt-2 w-full border border-gray-300 rounded px-3 py-2"})]}),t.jsxs("div",{className:"border border-green-400 rounded p-4",children:[t.jsx("label",{className:"block font-semibold mb-4",children:"ImÃ¡genes Secundarias"}),t.jsx("small",{className:"text-gray-500",children:"ImÃ¡genes adicionales del artÃ­culo. Se crearÃ¡ un registro por archivo en la tabla imagen_blogs."}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:l.imagenes_secundarias.map((d,m)=>t.jsxs("div",{className:"flex flex-col items-center",children:[r?.imagenes?.[m]?.ruta_imagen&&t.jsx("img",{src:r.imagenes[m].ruta_imagen,alt:l.alt_imagenes_secundarias[m]||`Imagen secundaria #${m+1}`,className:"w-full h-32 object-cover rounded mb-2 border"}),t.jsx("input",{type:"file",accept:"image/*",onChange:x=>R(x,m),className:"w-full file:py-2 file:px-3 file:border-0 file:bg-green-100 file:text-green-700 hover:file:bg-green-200"}),t.jsxs("small",{className:"text-gray-500",children:["Archivo de imagen secundaria #",m+1,".",t.jsx("br",{}),"TamaÃ±o mÃ¡ximo: 2 MB."]}),t.jsx("input",{type:"text",placeholder:`Texto ALT imagen secundaria #${m+1}`,value:l.alt_imagenes_secundarias[m],onChange:x=>V(x,m),className:"w-full border border-gray-300 rounded px-3 py-2 mt-2"})]},m))})]})]})]}),t.jsxs("div",{className:"bg-purple-50 p-4 sm:p-6 rounded-lg border border-purple-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4",children:"Video"}),t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL del Video *"}),t.jsx("input",{type:"url",name:"url_video",value:l.url_video,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("small",{className:"text-gray-500",children:"Solo minÃºsculas y guiones. Hasta 255 letras, nÃºmeros o espacios."})]}),t.jsxs("div",{className:"bg-yellow-50 p-4 sm:p-6 rounded-lg border border-yellow-200",children:[t.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4",children:["Contenido del Blog ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative mb-6",children:[t.jsx("label",{htmlFor:"parrafo-0",className:"block text-sm font-medium text-gray-700 mb-1",children:"PÃ¡rrafo 1 (IntroducciÃ³n)"}),t.jsx("textarea",{id:"parrafo-0",value:l.parrafos[0],onChange:d=>G(d,0),className:"w-full border border-gray-300 rounded px-3 py-2 pr-20",rows:4,placeholder:"PÃ¡rrafo de introducciÃ³n (opcional)"}),t.jsx("small",{className:"text-gray-500",children:"MÃ¡x. 100 caracteres (letras, nÃºmeros y espacios)."}),t.jsxs("div",{className:"absolute top-9 right-2 flex gap-2",children:[t.jsx("button",{type:"button",onClick:()=>Z(0),className:"bg-blue-500 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg transition",children:"ðŸ”—"}),t.jsx("button",{type:"button",onClick:()=>Y(0),className:"bg-green-500 hover:bg-green-700 text-white p-2 rounded-full shadow-lg transition",children:"ðŸ›’"})]})]}),t.jsxs("div",{className:"bg-yellow-50 p-4 sm:p-6 rounded-lg border border-yellow-200 mt-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4",children:["Beneficios ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,1,2].map(d=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Beneficio ",d+1]}),t.jsx("input",{type:"text",value:l.beneficios[d],onChange:m=>{const x=[...l.beneficios];x[d]=m.target.value,C({...l,beneficios:x})},maxLength:100,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("small",{className:"text-gray-500",children:"MÃ¡x. 100 caracteres."})]},d))})]}),t.jsxs("div",{className:"relative mb-6",children:[t.jsx("label",{htmlFor:"parrafo-1",className:"block text-sm font-medium text-gray-700 mb-1",children:"PÃ¡rrafo 2 (opcional)"}),t.jsx("textarea",{id:"parrafo-1",value:l.parrafos[1],onChange:d=>G(d,1),className:"w-full border border-gray-300 rounded px-3 py-2 pr-20",rows:4,placeholder:"PÃ¡rrafo de conclusiÃ³n (opcional)"}),t.jsx("small",{className:"text-gray-500",children:"MÃ¡x. 100 caracteres (letras, nÃºmeros y espacios)."}),t.jsxs("div",{className:"absolute top-9 right-2 flex gap-2",children:[t.jsx("button",{type:"button",onClick:()=>Z(1),className:"bg-blue-500 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg transition",children:"ðŸ”—"}),t.jsx("button",{type:"button",onClick:()=>Y(1),className:"bg-green-500 hover:bg-green-700 text-white p-2 rounded-full shadow-lg transition",children:"ðŸ›’"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4",children:[t.jsx("button",{type:"button",onClick:L,className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",disabled:s,children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:s?"Procesando...":r?"Actualizar":"Crear"})]})]})}),p&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[60]",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-lg font-bold mb-4",children:"Insertar Enlace"}),t.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Texto seleccionado: ",t.jsxs("strong",{children:['"',f,'"']})]}),t.jsx("input",{type:"url",value:u,onChange:d=>E(d.target.value),placeholder:"https://ejemplo.com",className:"w-full border border-gray-300 rounded px-3 py-2 mb-4",required:!0}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>w(!1),className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Cancelar"}),t.jsx("button",{type:"button",onClick:ne,disabled:!u.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white px-4 py-2 rounded",children:"Insertar"})]})]})}),j&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[60]",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-lg font-bold mb-4",children:"Enlazar a Producto"}),t.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Texto seleccionado: ",t.jsxs("strong",{children:['"',f,'"']})]}),t.jsxs("select",{onChange:d=>{const m=parseInt(d.target.value),x=g.find(P=>P.id===m);x&&se(x)},className:"w-full border border-gray-300 rounded px-3 py-2 mb-4",children:[t.jsx("option",{value:"",children:"-- Seleccionar producto --"}),g.map(d=>t.jsx("option",{value:d.id,children:d.nombre},d.id))]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>y(!1),className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Cancelar"})})]})})]})}):null},ce=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function H(a){return typeof a=="object"&&a!==null&&a.constructor&&Object.prototype.toString.call(a).slice(8,-1)==="Object"&&!a.__swiper__}function U(a,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof a[n]>"u"?a[n]=e[n]:H(e[n])&&H(a[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?a[n]=e[n]:U(a[n],e[n]):a[n]=e[n]})}function de(a){return a===void 0&&(a={}),a.navigation&&typeof a.navigation.nextEl>"u"&&typeof a.navigation.prevEl>"u"}function ue(a){return a===void 0&&(a={}),a.pagination&&typeof a.pagination.el>"u"}function pe(a){return a===void 0&&(a={}),a.scrollbar&&typeof a.scrollbar.el>"u"}function fe(a){a===void 0&&(a="");const e=a.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function Ce(a){return a===void 0&&(a=""),a?a.includes("swiper-wrapper")?a:`swiper-wrapper ${a}`:"swiper-wrapper"}function Pe(a){let{swiper:e,slides:r,passedParams:n,changedParams:g,nextEl:o,prevEl:v,scrollbarEl:_,paginationEl:s}=a;const k=g.filter(b=>b!=="children"&&b!=="direction"&&b!=="wrapperClass"),{params:p,pagination:w,navigation:N,scrollbar:S,virtual:O,thumbs:c}=e;let f,i,j,y,u,E,I,l;g.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(f=!0),g.includes("controller")&&n.controller&&n.controller.control&&p.controller&&!p.controller.control&&(i=!0),g.includes("pagination")&&n.pagination&&(n.pagination.el||s)&&(p.pagination||p.pagination===!1)&&w&&!w.el&&(j=!0),g.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||_)&&(p.scrollbar||p.scrollbar===!1)&&S&&!S.el&&(y=!0),g.includes("navigation")&&n.navigation&&(n.navigation.prevEl||v)&&(n.navigation.nextEl||o)&&(p.navigation||p.navigation===!1)&&N&&!N.prevEl&&!N.nextEl&&(u=!0);const C=b=>{e[b]&&(e[b].destroy(),b==="navigation"?(e.isElement&&(e[b].prevEl.remove(),e[b].nextEl.remove()),p[b].prevEl=void 0,p[b].nextEl=void 0,e[b].prevEl=void 0,e[b].nextEl=void 0):(e.isElement&&e[b].el.remove(),p[b].el=void 0,e[b].el=void 0))};g.includes("loop")&&e.isElement&&(p.loop&&!n.loop?E=!0:!p.loop&&n.loop?I=!0:l=!0),k.forEach(b=>{if(H(p[b])&&H(n[b]))U(p[b],n[b]),(b==="navigation"||b==="pagination"||b==="scrollbar")&&"enabled"in n[b]&&!n[b].enabled&&C(b);else{const q=n[b];(q===!0||q===!1)&&(b==="navigation"||b==="pagination"||b==="scrollbar")?q===!1&&C(b):p[b]=n[b]}}),k.includes("controller")&&!i&&e.controller&&e.controller.control&&p.controller&&p.controller.control&&(e.controller.control=p.controller.control),g.includes("children")&&r&&O&&p.virtual.enabled&&(O.slides=r,O.update(!0)),g.includes("children")&&r&&p.loop&&(l=!0),f&&c.init()&&c.update(!0),i&&(e.controller.control=p.controller.control),j&&(e.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-pagination"),s.part.add("pagination"),e.el.appendChild(s)),s&&(p.pagination.el=s),w.init(),w.render(),w.update()),y&&(e.isElement&&(!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-scrollbar"),_.part.add("scrollbar"),e.el.appendChild(_)),_&&(p.scrollbar.el=_),S.init(),S.updateSize(),S.setTranslate()),u&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!v||typeof v=="string")&&(v=document.createElement("div"),v.classList.add("swiper-button-prev"),v.innerHTML=e.hostEl.constructor.prevButtonSvg,v.part.add("button-prev"),e.el.appendChild(v))),o&&(p.navigation.nextEl=o),v&&(p.navigation.prevEl=v),N.init(),N.update()),g.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),g.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),g.includes("direction")&&e.changeDirection(n.direction,!1),(E||l)&&e.loopDestroy(),(I||l)&&e.loopCreate(),e.update()}function ke(a,e){a===void 0&&(a={}),e===void 0&&(e=!0);const r={on:{}},n={},g={};U(r,_e),r._emitClasses=!0,r.init=!1;const o={},v=ce.map(s=>s.replace(/_/,"")),_=Object.assign({},a);return Object.keys(_).forEach(s=>{typeof a[s]>"u"||(v.indexOf(s)>=0?H(a[s])?(r[s]={},g[s]={},U(r[s],a[s]),U(g[s],a[s])):(r[s]=a[s],g[s]=a[s]):s.search(/on[A-Z]/)===0&&typeof a[s]=="function"?e?n[`${s[2].toLowerCase()}${s.substr(3)}`]=a[s]:r.on[`${s[2].toLowerCase()}${s.substr(3)}`]=a[s]:o[s]=a[s])}),["navigation","pagination","scrollbar"].forEach(s=>{r[s]===!0&&(r[s]={}),r[s]===!1&&delete r[s]}),{params:r,passedParams:g,rest:o,events:n}}function Ie(a,e){let{el:r,nextEl:n,prevEl:g,paginationEl:o,scrollbarEl:v,swiper:_}=a;de(e)&&n&&g&&(_.params.navigation.nextEl=n,_.originalParams.navigation.nextEl=n,_.params.navigation.prevEl=g,_.originalParams.navigation.prevEl=g),ue(e)&&o&&(_.params.pagination.el=o,_.originalParams.pagination.el=o),pe(e)&&v&&(_.params.scrollbar.el=v,_.originalParams.scrollbar.el=v),_.init(r)}function Oe(a,e,r,n,g){const o=[];if(!e)return o;const v=s=>{o.indexOf(s)<0&&o.push(s)};if(r&&n){const s=n.map(g),k=r.map(g);s.join("")!==k.join("")&&v("children"),n.length!==r.length&&v("children")}return ce.filter(s=>s[0]==="_").map(s=>s.replace(/_/,"")).forEach(s=>{if(s in a&&s in e)if(H(a[s])&&H(e[s])){const k=Object.keys(a[s]),p=Object.keys(e[s]);k.length!==p.length?v(s):(k.forEach(w=>{a[s][w]!==e[s][w]&&v(s)}),p.forEach(w=>{a[s][w]!==e[s][w]&&v(s)}))}else a[s]!==e[s]&&v(s)}),o}const Ae=a=>{!a||a.destroyed||!a.params.virtual||a.params.virtual&&!a.params.virtual.enabled||(a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),a.parallax&&a.params.parallax&&a.params.parallax.enabled&&a.parallax.setTranslate())};function re(){return re=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])}return a},re.apply(this,arguments)}function me(a){return a.type&&a.type.displayName&&a.type.displayName.includes("SwiperSlide")}function ge(a){const e=[];return $.Children.toArray(a).forEach(r=>{me(r)?e.push(r):r.props&&r.props.children&&ge(r.props.children).forEach(n=>e.push(n))}),e}function $e(a){const e=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return $.Children.toArray(a).forEach(n=>{if(me(n))e.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const g=ge(n.props.children);g.length>0?g.forEach(o=>e.push(o)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:e,slots:r}}function Le(a,e,r){if(!r)return null;const n=p=>{let w=p;return p<0?w=e.length+p:w>=e.length&&(w=w-e.length),w},g=a.isHorizontal()?{[a.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:o,to:v}=r,_=a.params.loop?-e.length:0,s=a.params.loop?e.length*2:e.length,k=[];for(let p=_;p<s;p+=1)p>=o&&p<=v&&k.push(e[n(p)]);return k.map((p,w)=>$.cloneElement(p,{swiper:a,style:g,key:`slide-${w}`}))}function Q(a,e){return typeof window>"u"?h.useEffect(a,e):h.useLayoutEffect(a,e)}const ie=h.createContext(null),Be=h.createContext(null),le=h.forwardRef(function(a,e){let{className:r,tag:n="div",wrapperTag:g="div",children:o,onSwiper:v,..._}=a===void 0?{}:a,s=!1;const[k,p]=h.useState("swiper"),[w,N]=h.useState(null),[S,O]=h.useState(!1),c=h.useRef(!1),f=h.useRef(null),i=h.useRef(null),j=h.useRef(null),y=h.useRef(null),u=h.useRef(null),E=h.useRef(null),I=h.useRef(null),l=h.useRef(null),{params:C,passedParams:b,rest:q,events:M}=ke(_),{slides:R,slots:V}=$e(o),G=()=>{O(!S)};Object.assign(C.on,{_containerClasses(L,D){p(D)}});const Z=()=>{Object.assign(C.on,M),s=!0;const L={...C};if(delete L.wrapperClass,i.current=new je(L),i.current.virtual&&i.current.params.virtual.enabled){i.current.virtual.slides=R;const D={cache:!1,slides:R,renderExternal:N,renderExternalUpdate:!1};U(i.current.params.virtual,D),U(i.current.originalParams.virtual,D)}};f.current||Z(),i.current&&i.current.on("_beforeBreakpoint",G);const ne=()=>{s||!M||!i.current||Object.keys(M).forEach(L=>{i.current.on(L,M[L])})},Y=()=>{!M||!i.current||Object.keys(M).forEach(L=>{i.current.off(L,M[L])})};h.useEffect(()=>()=>{i.current&&i.current.off("_beforeBreakpoint",G)}),h.useEffect(()=>{!c.current&&i.current&&(i.current.emitSlidesClasses(),c.current=!0)}),Q(()=>{if(e&&(e.current=f.current),!!f.current)return i.current.destroyed&&Z(),Ie({el:f.current,nextEl:u.current,prevEl:E.current,paginationEl:I.current,scrollbarEl:l.current,swiper:i.current},C),v&&v(i.current),()=>{i.current&&!i.current.destroyed&&i.current.destroy(!0,!1)}},[]),Q(()=>{ne();const L=Oe(b,j.current,R,y.current,D=>D.key);return j.current=b,y.current=R,L.length&&i.current&&!i.current.destroyed&&Pe({swiper:i.current,slides:R,passedParams:b,changedParams:L,nextEl:u.current,prevEl:E.current,scrollbarEl:l.current,paginationEl:I.current}),()=>{Y()}}),Q(()=>{Ae(i.current)},[w]);function se(){return C.virtual?Le(i.current,R,w):R.map((L,D)=>$.cloneElement(L,{swiper:i.current,swiperSlideIndex:D}))}return $.createElement(n,re({ref:f,className:fe(`${k}${r?` ${r}`:""}`)},q),$.createElement(Be.Provider,{value:i.current},V["container-start"],$.createElement(g,{className:Ce(C.wrapperClass)},V["wrapper-start"],se(),V["wrapper-end"]),de(C)&&$.createElement($.Fragment,null,$.createElement("div",{ref:E,className:"swiper-button-prev"}),$.createElement("div",{ref:u,className:"swiper-button-next"})),pe(C)&&$.createElement("div",{ref:l,className:"swiper-scrollbar"}),ue(C)&&$.createElement("div",{ref:I,className:"swiper-pagination"}),V["container-end"]))});le.displayName="Swiper";const X=h.forwardRef(function(a,e){let{tag:r="div",children:n,className:g="",swiper:o,zoom:v,lazy:_,virtualIndex:s,swiperSlideIndex:k,...p}=a===void 0?{}:a;const w=h.useRef(null),[N,S]=h.useState("swiper-slide"),[O,c]=h.useState(!1);function f(u,E,I){E===w.current&&S(I)}Q(()=>{if(typeof k<"u"&&(w.current.swiperSlideIndex=k),e&&(e.current=w.current),!(!w.current||!o)){if(o.destroyed){N!=="swiper-slide"&&S("swiper-slide");return}return o.on("_slideClass",f),()=>{o&&o.off("_slideClass",f)}}}),Q(()=>{o&&w.current&&!o.destroyed&&S(o.getSlideClasses(w.current))},[o]);const i={isActive:N.indexOf("swiper-slide-active")>=0,isVisible:N.indexOf("swiper-slide-visible")>=0,isPrev:N.indexOf("swiper-slide-prev")>=0,isNext:N.indexOf("swiper-slide-next")>=0},j=()=>typeof n=="function"?n(i):n,y=()=>{c(!0)};return $.createElement(r,re({ref:w,className:fe(`${N}${g?` ${g}`:""}`),"data-swiper-slide-index":s,onLoad:y},p),v&&$.createElement(ie.Provider,{value:i},$.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof v=="number"?v:void 0},j(),_&&!O&&$.createElement("div",{className:"swiper-lazy-preloader"}))),!v&&$.createElement(ie.Provider,{value:i},j(),_&&!O&&$.createElement("div",{className:"swiper-lazy-preloader"})))});X.displayName="SwiperSlide";function ze(a){let{swiper:e,extendParams:r,on:n,emit:g}=a;r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=c=>(Array.isArray(c)?c:[c]).filter(f=>!!f);function v(c){let f;return c&&typeof c=="string"&&e.isElement&&(f=e.el.querySelector(c),f)?f:(c&&(typeof c=="string"&&(f=[...document.querySelectorAll(c)]),e.params.uniqueNavElements&&typeof c=="string"&&f.length>1&&e.el.querySelectorAll(c).length===1&&(f=e.el.querySelector(c))),c&&!f?c:f)}function _(c,f){const i=e.params.navigation;c=o(c),c.forEach(j=>{j&&(j.classList[f?"add":"remove"](...i.disabledClass.split(" ")),j.tagName==="BUTTON"&&(j.disabled=f),e.params.watchOverflow&&e.enabled&&j.classList[e.isLocked?"add":"remove"](i.lockClass))})}function s(){const{nextEl:c,prevEl:f}=e.navigation;if(e.params.loop){_(f,!1),_(c,!1);return}_(f,e.isBeginning&&!e.params.rewind),_(c,e.isEnd&&!e.params.rewind)}function k(c){c.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),g("navigationPrev"))}function p(c){c.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),g("navigationNext"))}function w(){const c=e.params.navigation;if(e.params.navigation=ye(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(c.nextEl||c.prevEl))return;let f=v(c.nextEl),i=v(c.prevEl);Object.assign(e.navigation,{nextEl:f,prevEl:i}),f=o(f),i=o(i);const j=(y,u)=>{y&&y.addEventListener("click",u==="next"?p:k),!e.enabled&&y&&y.classList.add(...c.lockClass.split(" "))};f.forEach(y=>j(y,"next")),i.forEach(y=>j(y,"prev"))}function N(){let{nextEl:c,prevEl:f}=e.navigation;c=o(c),f=o(f);const i=(j,y)=>{j.removeEventListener("click",y==="next"?p:k),j.classList.remove(...e.params.navigation.disabledClass.split(" "))};c.forEach(j=>i(j,"next")),f.forEach(j=>i(j,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?O():(w(),s())}),n("toEdge fromEdge lock unlock",()=>{s()}),n("destroy",()=>{N()}),n("enable disable",()=>{let{nextEl:c,prevEl:f}=e.navigation;if(c=o(c),f=o(f),e.enabled){s();return}[...c,...f].filter(i=>!!i).forEach(i=>i.classList.add(e.params.navigation.lockClass))}),n("click",(c,f)=>{let{nextEl:i,prevEl:j}=e.navigation;i=o(i),j=o(j);const y=f.target;if(e.params.navigation.hideOnClick&&!j.includes(y)&&!i.includes(y)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let u;i.length?u=i[0].classList.contains(e.params.navigation.hiddenClass):j.length&&(u=j[0].classList.contains(e.params.navigation.hiddenClass)),g(u===!0?"navigationShow":"navigationHide"),[...i,...j].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const S=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),w(),s()},O=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),N()};Object.assign(e.navigation,{enable:S,disable:O,update:s,init:w,destroy:N})}const De=({item:a,getImageUrl:e})=>{const[r,n]=h.useState(null),g=1+(a.imagenes?.length||0);return h.useEffect(()=>{r&&r.update()},[a,r]),g<=1?t.jsx("img",{src:e(a.imagen_principal),alt:a.nombre_producto||"Blog",className:"w-full max-w-[120px] h-20 object-cover rounded-lg shadow-md"}):t.jsxs(le,{onSwiper:n,modules:[oe,Ne],spaceBetween:10,slidesPerView:1,loop:g>=3,rewind:g===2,speed:800,autoplay:{delay:2e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0},className:"w-full max-w-[120px] h-20 rounded-lg shadow-md",children:[t.jsx(X,{children:t.jsx("img",{src:e(a.imagen_principal),alt:a.nombre_producto||"Blog",className:"w-full h-20 object-cover rounded-lg"})},`slide-principal-${a.id}`),a.imagenes?.map((o,v)=>t.jsx(X,{children:t.jsx("img",{src:e(o.ruta_imagen),alt:o.text_alt||"Imagen extra",className:"w-full h-20 object-cover rounded-lg"})},`slide-${a.id}-${v}`))]})},Je=()=>{const[a,e]=h.useState([]),[r,n]=h.useState(1),g=5,[o,v]=h.useState({current_page:1,last_page:1,per_page:g,total:0}),[_,s]=h.useState(null),[k,p]=h.useState(!0),[w,N]=h.useState(!1),{darkMode:S}=Ee(),O=async(u=1)=>{p(!0);try{const E=localStorage.getItem("token"),I=await fetch(`${J(K.endpoints.blogs.list)}?page=${u}&per_page=${g}`,{headers:{Authorization:`Bearer ${E}`,Accept:"application/json"}});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const l=await I.json();l.success&&l.data&&Array.isArray(l.data.data)?(e(l.data.data),v({current_page:l.data.current_page??u,last_page:l.data.last_page,per_page:l.data.per_page,total:l.data.total})):e([])}catch(E){console.error("âŒ Error al cargar datos:",E),e([])}finally{p(!1)}};h.useEffect(()=>{O(r)},[r]);const c=u=>{u>=1&&u<=o.last_page&&n(u)},f=async u=>{const E=localStorage.getItem("token");if(window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar este blog?"))try{const l=await fetch(J(K.endpoints.blogs.delete(u)),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`}});if(l.ok)O(r),alert("âœ… Blog eliminado exitosamente");else{const C=await l.json().catch(()=>({}));alert(`âŒ Error al eliminar el blog: ${C.message||"Error desconocido"}`)}}catch{alert("âŒ Error al conectar con el servidor")}},i=u=>u?u.startsWith("http")?u:`https://apiyuntas.yuntaspublicidad.com${u}`:"/placeholder-image.jpg",j=(u,E=50)=>u?u.length>E?u.substring(0,E)+"...":u:"",y=()=>{s(null),N(!0)};return t.jsxs("div",{className:"overflow-x-auto p-2 sm:p-4",children:[t.jsxs(we,{tableType:"blogs",exportData:a,onAddNew:y,children:[t.jsx("thead",{className:"hidden md:table-header-group",children:t.jsx("tr",{className:"bg-blue-950 text-white",children:["ID","PRODUCTO","SUBTÃTULO","IMAGEN","FECHA","ACCIÃ“N"].map(u=>t.jsx("th",{className:`px-4 py-2 text-white uppercase text-xs font-bold rounded-md ${S?"bg-cyan-900":"bg-cyan-400"}`,children:u},u))})}),t.jsx("tbody",{children:k?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-500 block md:table-cell",children:"Cargando blogs..."})}):a.length>0?a.map((u,E)=>(1+(u.imagenes?.length||0),t.jsxs("tr",{className:`md:table-row block md:mb-0 mb-6 rounded-xl shadow-md overflow-hidden border ${E%2===0&&S?"bg-white text-black":"text-black bg-white"}`,children:[t.jsx("td",{"data-label":"ID",className:`block md:table-cell px-4 py-2 border-b font-bold before:content-['ID'] before:font-semibold before:block md:before:hidden ${S?"bg-gray-300":""}`,children:u.id}),t.jsx("td",{"data-label":"Producto",className:`block md:table-cell px-4 py-2 border-b font-semibold before:content-['Producto'] before:font-semibold before:block md:before:hidden ${S?"bg-gray-300":""}`,children:j(u.nombre_producto||"Sin nombre",30)}),t.jsx("td",{"data-label":"SubtÃ­tulo",className:`block md:table-cell px-4 py-2 border-b before:content-['SubtÃ­tulo'] before:font-semibold before:block md:before:hidden ${S?"bg-gray-300":""}`,children:j(u.subtitulo,40)}),t.jsxs("td",{"data-label":"Imagen",className:`block md:table-cell px-4 py-2 border-b border-gray-200 relative md:static before:content-['Imagen'] before:font-semibold before:block md:before:hidden ${S?"bg-gray-300":""}`,children:[t.jsx("div",{className:"block md:hidden w-full",children:t.jsxs(le,{modules:[ze,oe],spaceBetween:10,slidesPerView:1,pagination:{clickable:!0},navigation:!0,className:"w-full max-w-[320px] rounded-lg shadow-md",children:[t.jsx(X,{children:t.jsx("img",{src:i(u.imagen_principal),alt:u.nombre_producto||"Blog",className:"w-full h-48 object-cover rounded-lg"})}),u.imagenes?.map((I,l)=>t.jsx(X,{children:t.jsx("img",{src:i(I.ruta_imagen),alt:I.text_alt||"Imagen extra",className:"w-full h-48 object-cover rounded-lg"})},l))]})}),t.jsx("div",{className:"hidden md:block w-full",children:t.jsx(De,{item:u,getImageUrl:i},u.id)})]}),t.jsx("td",{"data-label":"Fecha",className:`block md:table-cell px-4 py-2 border-b text-sm before:content-['Fecha'] before:font-semibold before:block md:before:hidden ${S?"bg-gray-300":""}`,children:u.created_at?new Date(u.created_at).toLocaleDateString("es-ES"):"N/A"}),t.jsx("td",{"data-label":"AcciÃ³n",className:`block md:table-cell px-4 py-3 border-b before:content-['AcciÃ³n'] before:font-semibold before:block md:before:hidden ${S?"bg-gray-300":""}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 mt-2 sm:mt-0",children:[t.jsxs("button",{className:"flex items-center justify-center gap-2 p-2 text-red-600 hover:text-red-800 transition bg-red-100 rounded-lg shadow-sm",title:"Eliminar",onClick:()=>f(u.id),children:[t.jsx(he,{size:18}),t.jsx("span",{className:"md:hidden font-medium",children:"Borrar"})]}),t.jsxs("button",{className:"flex items-center justify-center gap-2 p-2 text-yellow-600 hover:text-yellow-800 transition bg-yellow-100 rounded-lg shadow-sm",title:"Editar",onClick:()=>{s(u),N(!0)},children:[t.jsx(ve,{size:18}),t.jsx("span",{className:"md:hidden font-medium",children:"Editar"})]})]})})]},u.id))):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-500",children:"No hay blogs disponibles"})})})]}),o.last_page>1&&t.jsxs("div",{className:"flex flex-wrap justify-center items-center mt-4 gap-2",children:[t.jsx("button",{onClick:()=>c(r-1),disabled:r===1,className:"px-4 py-2 bg-blue-950 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-800 transition-colors",children:"Anterior"}),Array.from({length:o.last_page},(u,E)=>{const I=E+1;return t.jsx("button",{onClick:()=>c(I),className:`px-3 py-2 rounded-md ${r===I?"bg-blue-950 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:I},I)}),t.jsx("button",{onClick:()=>c(r+1),disabled:r===o.last_page,className:"px-4 py-2 bg-blue-950 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-800 transition-colors",children:"Siguiente"})]}),t.jsx("button",{onClick:y,className:"mt-4 mb-6 bg-blue-950 hover:bg-blue-800 text-white text-lg px-8 sm:px-10 py-2 rounded-full w-full sm:w-auto",children:"AÃ±adir Blog"}),t.jsx(Se,{isOpen:w,setIsOpen:N,blogToEdit:_,onSuccess:()=>{s(null),N(!1),O(r)}})]})};export{Je as default};
