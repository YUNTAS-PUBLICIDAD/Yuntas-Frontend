import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.ai7qpRr1.js";import{c as ae,d as te}from"./index.C2rrZm7j.js";import{g as z,c as B}from"./config.CT_CG-Xn.js";import{S as V}from"./sweetalert2.esm.all.B0Dix5B2.js";import{T as re}from"./TableContainer.BXE2yXaj.js";import"./iconBase.CsihB_xR.js";const se=({isOpen:f,setIsOpen:P,blogToEdit:s,onSuccess:R})=>{const[g,$]=c.useState([]),[v,M]=c.useState(""),[j,L]=c.useState(!1),[k,S]=c.useState(!1),[y,C]=c.useState(null),[N,_]=c.useState(null),[w,I]=c.useState(""),[U,A]=c.useState(!1),[D,n]=c.useState(""),i={producto_id:"",subtitulo:"",link:"",meta_titulo:"",meta_descripcion:"",imagen_principal:null,text_alt_principal:"",alt_imagen_card:"",imagenes_secundarias:[null,null,null],alt_imagenes_secundarias:["","",""],parrafos:["","",""],url_video:""},[a,u]=c.useState(i);c.useEffect(()=>{if(f)if(s){console.log("üìù Editando blog:",{id:s.id,producto_id:s.producto_id,nombre_producto:s.nombre_producto});const r=s.producto_id?.toString()||"";u({producto_id:r,subtitulo:s.subtitulo||"",link:s.link||"",meta_titulo:s.etiqueta?.meta_titulo||"",meta_descripcion:s.etiqueta?.meta_descripcion||"",imagen_principal:null,text_alt_principal:s.text_alt_principal||"",alt_imagen_card:s.alt_imagen_card||"",imagenes_secundarias:[null,null,null],alt_imagenes_secundarias:[s.imagenes?.[0]?.text_alt||"",s.imagenes?.[1]?.text_alt||"",s.imagenes?.[2]?.text_alt||""],parrafos:[s.parrafos?.[0]?.parrafo||"",s.parrafos?.[1]?.parrafo||"",s.parrafos?.[2]?.parrafo||""],url_video:s.url_video||""}),M(s.nombre_producto||""),console.log("‚úÖ FormData inicializado con producto_id:",r)}else console.log("‚ûï Creando nuevo blog"),u(i),M("")},[f,s]),c.useEffect(()=>{console.log("hola"),(async()=>{if(f){L(!0);try{const t=localStorage.getItem("token"),l=await fetch(z(B.endpoints.productos.list),{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const o=await l.json();console.log("Respuesta de productos/select:",o),o.success&&Array.isArray(o.data)?$(o.data):Array.isArray(o)?$(o):(console.error("La respuesta no contiene un array de productos:",o),$([]))}catch(t){console.error("Error al obtener productos:",t),$([]),alert("‚ùå Error al cargar los productos. Por favor, intenta de nuevo.")}finally{L(!1)}}})()},[f]);const b=r=>{u({...a,[r.target.name]:r.target.value})},F=r=>{u({...a,[r.target.name]:r.target.value})},W=(r,t)=>{r.target.files?.[0]&&u({...a,[t]:r.target.files[0]})},G=(r,t)=>{const l=[...a.imagenes_secundarias];l[t]=r.target.files?.[0]||null,u({...a,imagenes_secundarias:l})},J=(r,t)=>{const l=[...a.alt_imagenes_secundarias];l[t]=r.target.value,u({...a,alt_imagenes_secundarias:l})},K=(r,t)=>{const l=[...a.parrafos];l[t]=r.target.value,u({...a,parrafos:l})},Q=r=>{const t=document.getElementById(`parrafo-${r}`);if(!t)return;const l=t.selectionStart,o=t.selectionEnd;if(l===o){V.fire("Selecciona texto","Por favor selecciona una palabra o frase antes de insertar el enlace.","warning");return}const x=t.value.substring(l,o);C(r),_({start:l,end:o}),I(x),S(!0)},X=()=>{if(y===null||N===null||!D.trim()){alert("‚ùå Faltan datos para insertar el enlace");return}const r=a.parrafos[y],t=`<a href="${D}" target="_blank" rel="noopener noreferrer">${w}</a>`,l=r.slice(0,N.start)+t+r.slice(N.end),o=[...a.parrafos];o[y]=l,u({...a,parrafos:o}),C(null),_(null),I(""),n(""),S(!1)},Y=r=>{const t=document.getElementById(`parrafo-${r}`);if(!t)return;const l=t.selectionStart,o=t.selectionEnd,x=t.value.substring(l,o);if(!x){V.fire("Selecciona texto","Por favor selecciona una palabra o frase para enlazar a un producto.","warning");return}C(r),_({start:l,end:o}),I(x),A(!0)},Z=r=>{if(y===null||N===null)return;const t=a.parrafos[y],o=`<a href="/products/producto/?link=${r.link}" style="color: blue; text-decoration: underline;">${w}</a>`,x=t.slice(0,N.start)+o+t.slice(N.end),d=[...a.parrafos];d[y]=x,u({...a,parrafos:d}),C(null),_(null),I(""),A(!1)},q=()=>{P(!1),C(null),_(null),I(""),S(!1),A(!1),n(""),u(i)},ee=async r=>{r.preventDefault();const t=!!s;if(console.log("üöÄ Iniciando env√≠o:",{isEdit:t,blogToEdit:s?.id}),!a.producto_id||a.producto_id.trim()==="")return alert("‚ö†Ô∏è Debe seleccionar un producto.");if(t&&console.log("üîç Verificando producto_id en edici√≥n:",{formData_producto_id:a.producto_id,blogToEdit_producto_id:s.producto_id,nombreProducto:v}),!a.subtitulo||a.subtitulo.trim()==="")return alert("‚ö†Ô∏è El subt√≠tulo es obligatorio.");if(!t&&!a.imagen_principal)return alert("‚ö†Ô∏è La imagen principal es obligatoria para crear.");const l=a.parrafos.filter(x=>x.trim());if(l.length===0)return alert("‚ö†Ô∏è Debe haber al menos un p√°rrafo con contenido.");const o=/^[a-z0-9]+(?:-[a-z0-9]+)*$/;if(a.link&&!o.test(a.link))return alert("‚ö†Ô∏è El link debe ser URL-friendly (solo min√∫sculas, guiones y n√∫meros).");try{L(!0);const x=localStorage.getItem("token"),d=new FormData;d.append("producto_id",a.producto_id),d.append("subtitulo",a.subtitulo),d.append("url_video",a.url_video),a.link?.trim()&&d.append("link",a.link.trim());const T={meta_titulo:a.meta_titulo?.trim()||"",meta_descripcion:a.meta_descripcion?.trim()||""};(T.meta_titulo||T.meta_descripcion)&&d.append("etiqueta",JSON.stringify(T)),a.text_alt_principal?.trim()&&d.append("text_alt_principal",a.text_alt_principal.trim()),a.alt_imagen_card?.trim()&&d.append("alt_imagen_card",a.alt_imagen_card.trim()),a.imagen_principal&&(d.append("imagen_principal",a.imagen_principal),console.log("üì∑ Imagen principal agregada")),a.imagenes_secundarias.filter((p,m)=>{const O=p!==null;return O&&console.log(`üì∑ Imagen secundaria ${m+1} agregada`),O}).forEach(p=>{d.append("imagenes[]",p)}),a.alt_imagenes_secundarias.forEach((p,m)=>{(a.imagenes_secundarias[m]!==null||t&&p.trim())&&d.append("alt_imagenes[]",p.trim())}),l.forEach(p=>{d.append("parrafos[]",p.trim())}),console.log("=== DATOS A ENVIAR ==="),console.log("Modo:",t?"EDICI√ìN":"CREACI√ìN"),console.log("Blog ID:",s?.id);for(let[p,m]of d.entries())m instanceof File?console.log(`${p}: [File] ${m.name} (${m.size} bytes)`):console.log(`${p}: "${m}"`);const H=t?z(B.endpoints.blogs.update(s.id)):z(B.endpoints.blogs.create);console.log("üéØ Endpoint:",H),console.log("üîÑ M√©todo:",t?"PUT":"POST"),t&&d.append("_method","PUT");const E=await fetch(H,{method:"POST",body:d,headers:{Authorization:`Bearer ${x}`,Accept:"application/json"}});console.log("üìä Response status:",E.status);let h;try{h=await E.json()}catch{h=await E.text()}if(console.log("üìã Response data:",h),E.ok)alert(`‚úÖ Blog ${t?"actualizado":"creado"} correctamente.`),q(),R?.();else if(console.error("‚ùå Error response:",h),h.errors){let p=`‚ùå Errores de validaci√≥n:
`;Object.keys(h.errors).forEach(m=>{const O=Array.isArray(h.errors[m])?h.errors[m]:[h.errors[m]];p+=`‚Ä¢ ${m}: ${O.join(", ")}
`}),alert(p)}else alert(`‚ùå Error (${E.status}): ${h.message||JSON.stringify(h)}`)}catch(x){console.error("‚ùå Error en la solicitud:",x),alert("‚ùå Error en la conexi√≥n con el servidor.")}finally{L(!1)}};return f?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:e.jsxs("div",{className:"bg-white text-black px-8 py-6 rounded-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:s?"Editar Blog":"A√±adir Blog"}),e.jsxs("form",{onSubmit:ee,encType:"multipart/form-data",className:"space-y-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Informaci√≥n Principal & SEO"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4",children:[e.jsxs("label",{className:"block mb-2 font-medium",children:["Producto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"producto_id",value:a.producto_id,onChange:F,required:!0,className:"w-full bg-white text-black p-2 rounded-md border border-gray-300",disabled:j,children:[e.jsx("option",{value:"",children:j?"Cargando productos...":"-- Selecciona un producto --"}),Array.isArray(g)&&g.length>0?g.map(r=>e.jsx("option",{value:r.id.toString(),children:r.nombre||`Producto ${r.id}`},r.id)):!j&&e.jsx("option",{value:"",disabled:!0,children:"No hay productos disponibles"})]}),v&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Producto seleccionado: ",e.jsx("strong",{children:v})]}),g.length>0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["‚úÖ ",g.length," productos cargados"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block font-medium mb-1",children:["Subt√≠tulo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"subtitulo",value:a.subtitulo,onChange:b,className:"w-full border border-gray-300 rounded px-3 py-2",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Meta t√≠tulo"}),e.jsx("input",{type:"text",name:"meta_titulo",value:a.meta_titulo||"",onChange:b,placeholder:"T√≠tulo optimizado para SEO",className:"w-full border border-gray-300 rounded px-3 py-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recomendado: 50-60 caracteres"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Meta descripci√≥n"}),e.jsx("input",{type:"text",name:"meta_descripcion",value:a.meta_descripcion||"",onChange:b,placeholder:"Descripci√≥n optimizada para SEO",className:"w-full border border-gray-300 rounded px-3 py-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recomendado: 100-160 caracteres"})]}),e.jsxs("div",{className:"md:col-span-4",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Link (URL amigable)"}),e.jsx("input",{type:"text",name:"link",value:a.link,onChange:b,placeholder:"ejemplo: mi-blog-post",className:"w-full border border-gray-300 rounded px-3 py-2"})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"Im√°genes"}),e.jsxs("div",{className:"border border-green-400 rounded p-4 mb-8",children:[e.jsxs("label",{className:"block font-medium mb-2",children:["Imagen Principal ",!s&&e.jsx("span",{className:"text-red-500",children:"*"})]}),s&&s.imagen_principal&&e.jsx("img",{src:s.imagen_principal,alt:a.text_alt_principal||"Imagen principal",className:"w-full h-64 object-cover rounded mb-4 border"}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>W(r,"imagen_principal"),className:"w-full file:py-2 file:px-3 file:border-0 file:bg-green-100 file:text-green-700 hover:file:bg-green-200"}),e.jsx("input",{type:"text",name:"text_alt_principal",placeholder:"Texto ALT para SEO",value:a.text_alt_principal,onChange:b,className:"mt-2 w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"border border-green-400 rounded p-4",children:[e.jsx("label",{className:"block font-semibold mb-4",children:"Im√°genes Secundarias"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.imagenes_secundarias.map((r,t)=>e.jsxs("div",{className:"flex flex-col items-center",children:[s?.imagenes?.[t]?.ruta_imagen&&e.jsx("img",{src:s.imagenes[t].ruta_imagen,alt:a.alt_imagenes_secundarias[t]||`Imagen secundaria #${t+1}`,className:"w-full h-32 object-cover rounded mb-2 border"}),e.jsx("input",{type:"file",accept:"image/*",onChange:l=>G(l,t),className:"w-full file:py-2 file:px-3 file:border-0 file:bg-green-100 file:text-green-700 hover:file:bg-green-200"}),e.jsx("input",{type:"text",placeholder:`Texto ALT imagen secundaria #${t+1}`,value:a.alt_imagenes_secundarias[t],onChange:l=>J(l,t),className:"w-full border border-gray-300 rounded px-3 py-2 mt-2"})]},t))})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL del Video *"}),e.jsx("input",{type:"url",name:"url_video",value:a.url_video,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200 relative",children:[e.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4",children:["P√°rrafos ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"* Al menos un p√°rrafo debe tener contenido"}),a.parrafos.map((r,t)=>e.jsxs("div",{className:"relative mb-6",children:[e.jsx("textarea",{id:`parrafo-${t}`,value:r,onChange:l=>K(l,t),className:"w-full border border-gray-300 rounded px-3 py-2 pr-20",rows:4,placeholder:`P√°rrafo ${t+1} (opcional)`}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>Q(t),title:"Insertar enlace manual",className:"bg-blue-500 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg transition-all duration-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e.jsx("button",{type:"button",onClick:()=>Y(t),title:"Enlazar a producto",className:"bg-green-500 hover:bg-green-700 text-white p-2 rounded-full shadow-lg transition-all duration-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]})]},t))]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:q,className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",disabled:j,children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:j,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:j?"Procesando...":s?"Actualizar":"Crear"})]})]}),k&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[60]",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Insertar Enlace"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Texto seleccionado: ",e.jsxs("strong",{children:['"',w,'"']})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium mb-1",children:"URL del enlace"}),e.jsx("input",{type:"url",value:D,onChange:r=>n(r.target.value),placeholder:"https://ejemplo.com",className:"w-full border border-gray-300 rounded px-3 py-2",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Cancelar"}),e.jsx("button",{type:"button",onClick:X,disabled:!D.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white px-4 py-2 rounded",children:"Insertar"})]})]})}),U&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[60]",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Enlazar a Producto"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Texto seleccionado: ",e.jsxs("strong",{children:['"',w,'"']})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Selecciona un producto"}),e.jsxs("select",{onChange:r=>{const t=parseInt(r.target.value),l=g.find(o=>o.id===t);l&&Z(l)},className:"w-full border border-gray-300 rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Seleccionar producto --"}),g.map(r=>e.jsx("option",{value:r.id,children:r.nombre},r.id))]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>A(!1),className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Cancelar"})})]})})]})}):null},me=()=>{const[f,P]=c.useState([]),[s,R]=c.useState(1),g=10,[$,v]=c.useState(null),[M,j]=c.useState(!0),[L,k]=c.useState(!1),S=async()=>{j(!0);try{const n=localStorage.getItem("token"),i=await fetch(z(B.endpoints.blogs.list),{headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const a=await i.json();a.success&&a.data?P(a.data):P([])}catch(n){console.error("‚ùå Error al cargar datos:",n),P([])}finally{j(!1)}};c.useEffect(()=>{S()},[]);const y=s*g,C=y-g,N=f.slice(C,y),_=n=>{R(n)},w=Math.ceil(f.length/g),I=async n=>{const i=localStorage.getItem("token");if(window.confirm("¬øEst√°s seguro de que deseas eliminar este blog?"))try{const u=await fetch(z(B.endpoints.blogs.delete(n)),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}});if(u.ok)P(b=>b.filter(F=>F.id!==n)),alert("‚úÖ Blog eliminado exitosamente");else{const b=await u.json().catch(()=>({}));alert(`‚ùå Error al eliminar el blog: ${b.message||"Error desconocido"}`)}}catch{alert("‚ùå Error al conectar con el servidor")}},U=n=>n?n.startsWith("http")?n:`https://apiyuntas.yuntaspublicidad.com${n}`:"/placeholder-image.jpg",A=(n,i=50)=>n?n.length>i?n.substring(0,i)+"...":n:"",D=()=>{v(null),k(!0)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"overflow-x-auto p-4",children:[e.jsxs(re,{tableType:"blogs",exportData:f,onAddNew:D,children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-950 text-white",children:[e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"ID"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"PRODUCTO"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"SUBT√çTULO"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"IMAGEN"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"FECHA"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"ACCI√ìN"})]})}),e.jsx("tbody",{children:M?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-500",children:"Cargando blogs..."})}):N.length>0?N.map(n=>e.jsxs("tr",{className:`text-center ${n.id%2===0?"bg-gray-100 ":"bg-gray-300 "}`,children:[e.jsx("td",{"data-label":"ID",className:"px-4 py-2 font-bold rounded-xl border border-gray-300",children:n.id}),e.jsx("td",{"data-label":"Producto",className:"px-4 py-2 font-bold rounded-xl border border-gray-300",children:A(n.nombre_producto||"Sin nombre",30)}),e.jsx("td",{"data-label":"Subt√≠tulo",className:"px-4 py-2 rounded-xl border border-gray-300",children:A(n.subtitulo,40)}),e.jsx("td",{"data-label":"Imagen",className:"px-4 py-2 rounded-xl border border-gray-300",children:e.jsx("img",{src:U(n.imagen_principal),alt:n.nombre_producto||"Blog",className:"w-16 h-16 rounded-md mx-auto object-cover",onError:i=>{const a=i.target;a.src="/placeholder-image.jpg"}})}),e.jsx("td",{"data-label":"Fecha",className:"px-4 py-2 rounded-xl border border-gray-300 text-sm",children:n.created_at?new Date(n.created_at).toLocaleDateString("es-ES"):"N/A"}),e.jsx("td",{"data-label":"Acci√≥n",className:"px-4 py-2 rounded-xl border border-gray-300",children:e.jsxs("div",{className:"flex justify-center gap-2 rounded-xl p-1",children:[e.jsx("button",{className:"p-2 text-red-600 hover:text-red-800 transition",title:"Eliminar",onClick:()=>I(n.id),children:e.jsx(ae,{size:18})}),e.jsx("button",{className:"p-2 text-yellow-600 hover:text-yellow-800 transition",title:"Editar",onClick:()=>{v(n),k(!0)},children:e.jsx(te,{size:18})})]})})]},n.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-500",children:"No hay blogs disponibles"})})})]}),w>1&&e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-2",children:[e.jsx("button",{onClick:()=>_(s-1),disabled:s===1,className:"px-4 py-2 bg-blue-950 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-800 transition-colors",children:"Anterior"}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,w)},(n,i)=>{const a=i+1;return e.jsx("button",{onClick:()=>_(a),className:`px-3 py-2 rounded-md ${s===a?"bg-blue-950 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:a},a)})}),e.jsx("button",{onClick:()=>_(s+1),disabled:s===w,className:"px-4 py-2 bg-blue-950 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-800 transition-colors",children:"Siguiente"})]}),e.jsx("button",{onClick:()=>{v(null),k(!0)},className:"mt-4 mb-6 bg-blue-950 hover:bg-blue-800 text-white text-lg px-10 py-2 rounded-full",children:"A√±adir Blog"}),e.jsx(se,{isOpen:L,setIsOpen:k,blogToEdit:$,onSuccess:()=>{v(null),k(!1),S()}})]})})};export{me as default};
