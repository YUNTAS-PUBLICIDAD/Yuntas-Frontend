import{c as s}from"./config.DqK_gEEU.js";class h{baseURL;constructor(){this.baseURL=s.apiUrl}async request(e,t={}){const r=`${this.baseURL}${e}`;try{const a=await fetch(r,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error(`[HttpService] Error en ${r}:`,a),a}}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,r){return this.request(e,{...r,method:"POST",body:JSON.stringify(t)})}async postFormData(e,t,r){return this.request(e,{...r,method:"POST",body:t,headers:{...r?.headers}})}async put(e,t,r){return this.request(e,{...r,method:"PUT",body:JSON.stringify(t)})}async putFormData(e,t,r){return this.request(e,{...r,method:"PUT",body:t,headers:{...r?.headers}})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}getAuthHeaders(){const e=localStorage.getItem("auth_token");return e?{Authorization:`Bearer ${e}`}:{}}async authenticatedGet(e,t){return this.get(e,{...t,headers:{...this.getAuthHeaders(),...t?.headers}})}async authenticatedPost(e,t,r){return this.post(e,t,{...r,headers:{...this.getAuthHeaders(),...r?.headers}})}async authenticatedPostFormData(e,t,r){return this.postFormData(e,t,{...r,headers:{...this.getAuthHeaders(),...r?.headers}})}async authenticatedPut(e,t,r){return this.put(e,t,{...r,headers:{...this.getAuthHeaders(),...r?.headers}})}async authenticatedPutFormData(e,t,r){return this.putFormData(e,t,{...r,headers:{...this.getAuthHeaders(),...r?.headers}})}async authenticatedDelete(e,t){return this.delete(e,{...t,headers:{...this.getAuthHeaders(),...t?.headers}})}}const c=new h;export{c as h};
