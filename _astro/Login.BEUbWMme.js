import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.ai7qpRr1.js";/* empty css                       */const u="/_astro/logo_yuntas.h6dFVRry.webp",m="/_astro/Login_fondo.SxhXBwt_.webp",w=()=>{const[f,x]=o.useState(null),[r,n]=o.useState(!1);o.useEffect(()=>{setTimeout(()=>{n(!0)},100)},[]);const i=async a=>{a.preventDefault();const l=new FormData(a.currentTarget),c=l.get("email"),d=l.get("password");try{const s=await fetch("https://apiyuntas.yuntasproducciones.com/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:d})});console.log("Respuesta recibida:",s);const t=await s.json();console.log("Datos del servidor:",t),s.ok?(localStorage.setItem("token",t.data.token),window.location.href="/admin"):(console.error("Error en la respuesta del servidor:",t.message),alert(t.message||"Error al iniciar sesión"))}catch(s){console.error("Error de conexión con el servidor:",s),alert("Error de conexión con el servidor.")}};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"hidden lg:flex w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${m})`}}),e.jsx("div",{className:`mov-login ${r?"active":""} w-full lg:w-2/5 h-full flex items-center justify-center`,children:e.jsxs("div",{className:" fondo-container w-full h-full shadow-lg flex flex-col items-center justify-center px-8",children:[e.jsx("img",{src:u,alt:"Logo Yuntas",className:"w-16 md:w-32 mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mt-4 mb-4 text-center text-amber-50",children:"BIENVENIDO"}),e.jsxs("form",{onSubmit:i,className:"w-full max-w-xs",children:[e.jsx("div",{className:"mb-4 flex justify-center w-full",children:e.jsx("input",{type:"email",id:"email",name:"email",className:"rounded-full bg-white w-64 py-2 px-3 text-black leading-tight focus:outline-none focus:shadow-outline placeholder-gray-600",placeholder:"Usuario"})}),e.jsx("div",{className:"mb-4 flex justify-center w-full",children:e.jsx("input",{type:"password",id:"password",name:"password",className:"rounded-full bg-white w-64 py-2 px-3 text-black leading-tight focus:outline-none focus:shadow-outline placeholder-gray-600",placeholder:"Password"})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{className:"bg-[#23C1DE] hover:bg-gray-100 text-white font-bold py-2 px-8 rounded-full focus:outline-none focus:shadow-outline transition duration-300",type:"submit",children:"INGRESAR"})})]})]})})]})};export{w as default};
