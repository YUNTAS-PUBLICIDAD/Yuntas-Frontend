import{h as n}from"./httpService.KKQD0fA1.js";import{c as i}from"./config.DqK_gEEU.js";class s{async getAllBlogs(){try{return await n.get(i.endpoints.blogs.list)}catch(e){throw console.error("[BlogService] Error obteniendo blogs:",e),e}}async getBlogById(e){try{return await n.get(i.endpoints.blogs.detail(e))}catch(r){throw console.error("[BlogService] Error obteniendo blog:",r),r}}async getBlogByLink(e){try{return await n.get(`/api/blogs/link/${e}`)}catch(r){throw console.error("[BlogService] Error obteniendo blog por link:",r),r}}async createBlog(e){try{const r=this.buildFormData(e);return await n.authenticatedPostFormData(i.endpoints.blogs.create,r)}catch(r){throw console.error("[BlogService] Error creando blog:",r),r}}async updateBlog(e,r){try{const o=this.buildFormData(r);return await n.authenticatedPutFormData(`/api/blog/${e}`,o)}catch(o){throw console.error("[BlogService] Error actualizando blog:",o),o}}async deleteBlog(e){try{return await n.authenticatedDelete(`/api/blogs/${e}`)}catch(r){throw console.error("[BlogService] Error eliminando blog:",r),r}}buildFormData(e){const r=new FormData;return r.append("titulo",e.titulo),r.append("link",e.link),e.producto_id&&e.producto_id!==""&&r.append("producto_id",e.producto_id),r.append("parrafo",e.parrafo),r.append("descripcion",e.descripcion),e.imagen_principal&&r.append("imagen_principal",e.imagen_principal),r.append("titulo_blog",e.titulo_blog||""),r.append("subtitulo_beneficio",e.subtitulo_beneficio||""),r.append("url_video",e.url_video||""),r.append("titulo_video",e.titulo_video||""),e.imagenes&&e.imagenes.length>0&&e.imagenes.forEach((o,t)=>{o.url_imagen&&(r.append(`imagenes[${t}][imagen]`,o.url_imagen),r.append(`imagenes[${t}][parrafo]`,o.parrafo_imagen||""))}),r}generateLinkFromTitle(e){return e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}}const l=new s;export{l as b};
