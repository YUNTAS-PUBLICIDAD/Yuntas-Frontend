import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.ai7qpRr1.js";/* empty css                       */import{g,c as w}from"./config.CT_CG-Xn.js";const b="/_astro/yuntas_publicidad_logo.h6dFVRry.webp",j="/_astro/Login_fondo.SxhXBwt_.webp",I=()=>{const[y,N]=t.useState(null),[o,i]=t.useState(!1),[r,c]=t.useState(!1),[d,u]=t.useState(!1),[f,m]=t.useState(!0);t.useEffect(()=>{if(localStorage.getItem("token")?window.location.href="/admin/inicio":m(!1),typeof window<"u"){const s=window.innerWidth;c(s>=768),u(!0),s>=768&&setTimeout(()=>{i(!0)},100)}},[]);const x=async l=>{l.preventDefault();const s=new FormData(l.currentTarget),h=s.get("email"),p=s.get("password");try{const n=await fetch(g(w.endpoints.auth.login),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:h,password:p})}),a=await n.json();n.ok?(localStorage.setItem("token",a.data.token),window.location.href="/admin/inicio"):alert(a.message||"Error al iniciar sesión")}catch{alert("Error de conexión con el servidor.")}};return f?null:e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"hidden md:flex w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${j})`},children:e.jsx("div",{className:"w-1/2 h-full bg-transparent flex items-center justify-center",children:e.jsxs("div",{className:"Montserrat text-center max-w-2xl px-4 h-full flex flex-col justify-center bg-black/10",children:[e.jsxs("h1",{className:"sombra-title text-white text-4xl md:text-5xl font-extrabold mb-4 leading-tight",children:["Yuntas",e.jsx("br",{}),"Producciones"]}),e.jsxs("p",{className:"sombra-blanca text-white text-2xl md:text-3xl font-light",children:["te da la",e.jsx("br",{}),"bienvenida"]})]})})}),d?e.jsx("div",{className:`mov-login ${r&&o?"active":""} h-full flex items-center justify-center`,children:e.jsxs("div",{className:"fondo-container w-full h-full shadow-lg flex flex-col items-center justify-center px-8 rounded-tl-[60px] rounded-bl-[60px]",children:[e.jsx("img",{src:b,alt:"Logo Yuntas",className:"w-16 md:w-32 mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mt-4 mb-4 text-center text-amber-50",children:"BIENVENIDO"}),e.jsxs("form",{onSubmit:x,className:"w-full max-w-xs",children:[e.jsx("div",{className:"mb-4 flex justify-center w-full",children:e.jsx("input",{type:"email",name:"email",className:"rounded-full bg-white w-64 py-2 px-3 text-black leading-tight focus:outline-none focus:shadow-outline placeholder-gray-600",placeholder:"Usuario"})}),e.jsx("div",{className:"mb-4 flex justify-center w-full",children:e.jsx("input",{type:"password",name:"password",className:"rounded-full bg-white w-64 py-2 px-3 text-black leading-tight focus:outline-none focus:shadow-outline placeholder-gray-600",placeholder:"Password"})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{className:"bg-[#23C1DE] hover:bg-gray-100 text-white font-bold py-2 px-8 rounded-full focus:outline-none focus:shadow-outline transition duration-300",type:"submit",children:"INGRESAR"})})]})]})}):e.jsx("div",{className:"w-full md:w-1/2 h-full"})]})};export{I as default};
