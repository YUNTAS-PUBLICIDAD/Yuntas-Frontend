import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.ai7qpRr1.js";import{b as p}from"./blogService.DUPaIJMC.js";import{g as u,b as g}from"./imageHelpers.2wvKHwk-.js";import{i as h}from"./schema-markup-generator.D_Y7fDDV.js";import"./httpService.KKQD0fA1.js";import"./config.DqK_gEEU.js";const b=t=>{m.useEffect(()=>{if(!t||!t.etiqueta)return;const n=t.etiqueta.meta_titulo||t.nombre_producto,c=t.etiqueta.meta_descripcion||t.subtitulo;console.log("üîç Aplicando SEO del blog:",{id:t.id,metaTitle:n,metaDescription:c,hasEtiqueta:!!t.etiqueta}),document.title=n;let s=document.querySelector('meta[name="description"]');s||(s=document.createElement("meta"),s.name="description",document.head.appendChild(s)),s.content=c;const d=(i,x)=>{let l=document.querySelector(`meta[property="${i}"]`);l||(l=document.createElement("meta"),l.setAttribute("property",i),document.head.appendChild(l)),l.content=x};d("og:title",n),d("og:description",c)},[t])};function _(){const[t,n]=m.useState(null),[c,s]=m.useState(!0),[d,i]=m.useState(null);if(b(t),m.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("link");if(console.log("üîó Link obtenido desde URL:",r),!r){i("No se proporcion√≥ un link de blog"),s(!1);return}(async()=>{try{s(!0);const a=await p.getBlogByLink(r);if(console.log("üìù Respuesta del servicio:",a),!a.success){console.error("Error en la respuesta:",a.message),i(a.message||"Error al cargar el blog"),s(!1);return}n(a.data),h("blog",a),console.log("‚úÖ Blog cargado correctamente:",a.data)}catch(a){console.error("‚ùå Error cargando blog:",a),i(a instanceof Error?a.message:"Error desconocido")}finally{s(!1)}})()},[]),c)return e.jsx("p",{className:"grid min-h-screen place-content-center text-5xl font-extrabold animate-pulse bg-blue-200",children:"Cargando..."});if(d||!t)return e.jsx("div",{className:"grid min-h-screen place-content-center text-center bg-blue-200",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-5xl font-extrabold mb-4",children:"Blog no encontrado"}),e.jsx("p",{className:"text-xl",children:d||"El art√≠culo solicitado no existe o ha sido eliminado."}),e.jsx("a",{href:"/blogs",className:"inline-block mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Volver al blog"})]})});console.log("üåü article:",t);const x=l=>{if(!l)return null;const r=l.match(/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&]+)/);if(r&&r[1])return`https://www.youtube.com/embed/${r[1]}`;const o=l.match(/youtu\.be\/([^?]+)/);return o&&o[1]?`https://www.youtube.com/embed/${o[1]}`:l};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"relative",children:t.imagen_principal?e.jsx("img",{src:g(t.imagen_principal),alt:t.nombre_producto||"Imagen principal del blog",title:u(t.imagen_principal,"Imagen principal del blog"),className:"w-full max-h-[100vh] object-cover"}):t.imagenes?.length>0?e.jsx("img",{src:g(t.imagenes[0].ruta_imagen),alt:t.imagenes[0].texto_alt||"Imagen del blog",title:u(t.imagenes[0],"Imagen del blog"),className:"w-full max-h-[100vh] object-cover"}):e.jsx("div",{className:"w-full h-[50vh] flex items-center justify-center bg-gray-200 text-gray-500",children:"Sin imagen disponible"})}),e.jsx("div",{className:"w-full bg-white text-blue-950 text-center py-6 sm:py-8",children:e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold",children:t.nombre_producto})}),e.jsx("section",{className:"px-4 sm:px-8 md:px-12 lg:px-24 py-16 text-white bg-gradient-to-b from-blue-900 to-indigo-950 flex flex-col",children:e.jsxs("div",{className:"Montserrat relative z-10 max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-16 animate-fade-in",children:e.jsx("h1",{className:"text-2xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-white animate-float",children:t.subtitulo||"Descubre nuestro blog"})}),e.jsx("div",{className:"space-y-12 mb-16",children:t.parrafos?.map((l,r)=>{const o=t.imagenes?.[r%t.imagenes.length],a=r%2===0;return e.jsxs("div",{className:`flex flex-col ${a?"lg:flex-row":"lg:flex-row-reverse"} items-center gap-6 sm:gap-8 lg:gap-12 p-6 lg:p-8 rounded-3xl hover:scale-105 hover:shadow-2xl group cursor-pointer`,children:[o&&e.jsx("div",{className:"flex-none w-full lg:w-80 h-48 lg:h-56 order-1 rounded-[2.5rem] overflow-hidden shadow-2xl transition-all duration-500 group-hover:shadow-cyan-500/30",children:e.jsx("img",{src:g(o.ruta_imagen),alt:o.texto_alt||"Imagen del blog",title:u(o,"Imagen del blog"),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),e.jsx("div",{className:"flex-1 order-2",children:e.jsx("p",{className:"text-base sm:text-lg leading-relaxed text-white/90 text-justify",dangerouslySetInnerHTML:{__html:l.parrafo}})})]},r)})})]})}),e.jsx("section",{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 py-20 px-4 overflow-hidden",children:e.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4 animate-fade-in",children:"Mira nuestro video"}),e.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto animate-fade-in delay-200",children:"Descubre m√°s detalles sobre nuestros productos y servicios en este video explicativo"})]}),e.jsx("div",{className:"relative group",children:e.jsx("div",{className:"relative bg-black/30 backdrop-blur-sm rounded-2xl overflow-hidden shadow-2xl border border-white/10 group-hover:border-white/20 transition-all duration-500",children:e.jsxs("div",{className:"aspect-video w-full relative",children:[!t.url_video&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/90 to-slate-900/90 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white/80 text-xl font-medium mb-2",children:"Video pr√≥ximamente"})})}),t.url_video&&e.jsx("iframe",{src:x(t.url_video),title:"Video",className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})})})]})})]})}export{_ as default};
