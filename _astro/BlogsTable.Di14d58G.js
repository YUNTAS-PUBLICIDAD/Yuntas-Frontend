import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.ai7qpRr1.js";import{c as ae,d as re}from"./index.C2rrZm7j.js";import{g as z,c as B}from"./config.CT_CG-Xn.js";import{S as H}from"./sweetalert2.esm.all.B0Dix5B2.js";import{T as te}from"./TableContainer.b9hjZr1F.js";import"./iconBase.CsihB_xR.js";const se=({isOpen:_,setIsOpen:P,blogToEdit:s,onSuccess:R})=>{const[h,$]=c.useState([]),[w,M]=c.useState(""),[f,E]=c.useState(!1),[L,k]=c.useState(!1),[j,S]=c.useState(null),[y,N]=c.useState(null),[v,C]=c.useState(""),[F,I]=c.useState(!1),[n,i]=c.useState(""),d={producto_id:"",subtitulo:"",link:"",meta_titulo:"",meta_descripcion:"",imagen_principal:null,alt_imagen_principal:"",alt_imagen_card:"",imagenes_secundarias:[null,null,null],alt_imagenes_secundarias:["","",""],parrafos:["","",""]},[a,p]=c.useState(d);c.useEffect(()=>{if(_)if(s){console.log("üìù Editando blog:",{id:s.id,producto_id:s.producto_id,nombre_producto:s.nombre_producto});const t=s.producto_id?.toString()||"";p({producto_id:t,subtitulo:s.subtitulo||"",link:s.link||"",meta_titulo:s.meta_titulo||"",meta_descripcion:s.meta_descripcion||"",imagen_principal:null,alt_imagen_principal:s.alt_imagen_principal||"",alt_imagen_card:s.alt_imagen_card||"",imagenes_secundarias:[null,null,null],alt_imagenes_secundarias:[s.imagenes?.[0]?.text_alt||"",s.imagenes?.[1]?.text_alt||"",s.imagenes?.[2]?.text_alt||""],parrafos:[s.parrafos?.[0]?.parrafo||"",s.parrafos?.[1]?.parrafo||"",s.parrafos?.[2]?.parrafo||""]}),M(s.nombre_producto||""),console.log("‚úÖ FormData inicializado con producto_id:",t)}else console.log("‚ûï Creando nuevo blog"),p(d),M("")},[_,s]),c.useEffect(()=>{(async()=>{if(_){E(!0);try{const r=localStorage.getItem("token"),l=await fetch(z(B.endpoints.productos.list),{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const o=await l.json();console.log("Respuesta de productos/select:",o),o.success&&Array.isArray(o.data)?$(o.data):Array.isArray(o)?$(o):(console.error("La respuesta no contiene un array de productos:",o),$([]))}catch(r){console.error("Error al obtener productos:",r),$([]),alert("‚ùå Error al cargar los productos. Por favor, intenta de nuevo.")}finally{E(!1)}}})()},[_]);const A=t=>{p({...a,[t.target.name]:t.target.value})},V=t=>{p({...a,[t.target.name]:t.target.value})},W=(t,r)=>{t.target.files?.[0]&&p({...a,[r]:t.target.files[0]})},G=(t,r)=>{const l=[...a.imagenes_secundarias];l[r]=t.target.files?.[0]||null,p({...a,imagenes_secundarias:l})},J=(t,r)=>{const l=[...a.alt_imagenes_secundarias];l[r]=t.target.value,p({...a,alt_imagenes_secundarias:l})},K=(t,r)=>{const l=[...a.parrafos];l[r]=t.target.value,p({...a,parrafos:l})},Q=t=>{const r=document.getElementById(`parrafo-${t}`);if(!r)return;const l=r.selectionStart,o=r.selectionEnd;if(l===o){H.fire("Selecciona texto","Por favor selecciona una palabra o frase antes de insertar el enlace.","warning");return}const x=r.value.substring(l,o);S(t),N({start:l,end:o}),C(x),k(!0)},X=()=>{if(j===null||y===null||!n.trim()){alert("‚ùå Faltan datos para insertar el enlace");return}const t=a.parrafos[j],r=`<a href="${n}" target="_blank" rel="noopener noreferrer">${v}</a>`,l=t.slice(0,y.start)+r+t.slice(y.end),o=[...a.parrafos];o[j]=l,p({...a,parrafos:o}),S(null),N(null),C(""),i(""),k(!1)},Y=t=>{const r=document.getElementById(`parrafo-${t}`);if(!r)return;const l=r.selectionStart,o=r.selectionEnd,x=r.value.substring(l,o);if(!x){H.fire("Selecciona texto","Por favor selecciona una palabra o frase para enlazar a un producto.","warning");return}S(t),N({start:l,end:o}),C(x),I(!0)},Z=t=>{if(j===null||y===null)return;const r=a.parrafos[j],o=`<a href="/products/producto/?link=${t.link}" style="color: blue; text-decoration: underline;">${v}</a>`,x=r.slice(0,y.start)+o+r.slice(y.end),u=[...a.parrafos];u[j]=x,p({...a,parrafos:u}),S(null),N(null),C(""),I(!1)},T=()=>{P(!1),S(null),N(null),C(""),k(!1),I(!1),i(""),p(d)},ee=async t=>{t.preventDefault();const r=!!s;if(console.log("üöÄ Iniciando env√≠o:",{isEdit:r,blogToEdit:s?.id}),!a.producto_id||a.producto_id.trim()==="")return alert("‚ö†Ô∏è Debe seleccionar un producto.");if(r&&console.log("üîç Verificando producto_id en edici√≥n:",{formData_producto_id:a.producto_id,blogToEdit_producto_id:s.producto_id,nombreProducto:w}),!a.subtitulo||a.subtitulo.trim()==="")return alert("‚ö†Ô∏è El subt√≠tulo es obligatorio.");if(!r&&!a.imagen_principal)return alert("‚ö†Ô∏è La imagen principal es obligatoria para crear.");const l=a.parrafos.filter(x=>x.trim());if(l.length===0)return alert("‚ö†Ô∏è Debe haber al menos un p√°rrafo con contenido.");const o=/^[a-z0-9]+(?:-[a-z0-9]+)*$/;if(a.link&&!o.test(a.link))return alert("‚ö†Ô∏è El link debe ser URL-friendly (solo min√∫sculas, guiones y n√∫meros).");try{E(!0);const x=localStorage.getItem("token"),u=new FormData;u.append("producto_id",a.producto_id),u.append("subtitulo",a.subtitulo),a.link?.trim()&&u.append("link",a.link.trim());const U={meta_titulo:a.meta_titulo?.trim()||"",meta_descripcion:a.meta_descripcion?.trim()||""};(U.meta_titulo||U.meta_descripcion)&&u.append("etiqueta",JSON.stringify(U)),a.alt_imagen_principal?.trim()&&u.append("alt_imagen_principal",a.alt_imagen_principal.trim()),a.alt_imagen_card?.trim()&&u.append("alt_imagen_card",a.alt_imagen_card.trim()),a.imagen_principal&&(u.append("imagen_principal",a.imagen_principal),console.log("üì∑ Imagen principal agregada")),a.imagenes_secundarias.filter((m,g)=>{const O=m!==null;return O&&console.log(`üì∑ Imagen secundaria ${g+1} agregada`),O}).forEach(m=>{u.append("imagenes[]",m)}),a.alt_imagenes_secundarias.forEach((m,g)=>{(a.imagenes_secundarias[g]!==null||r&&m.trim())&&u.append("alt_imagenes[]",m.trim())}),l.forEach(m=>{u.append("parrafos[]",m.trim())}),console.log("=== DATOS A ENVIAR ==="),console.log("Modo:",r?"EDICI√ìN":"CREACI√ìN"),console.log("Blog ID:",s?.id);for(let[m,g]of u.entries())g instanceof File?console.log(`${m}: [File] ${g.name} (${g.size} bytes)`):console.log(`${m}: "${g}"`);const q=r?z(B.endpoints.blogs.update(s.id)):z(B.endpoints.blogs.create);console.log("üéØ Endpoint:",q),console.log("üîÑ M√©todo:",r?"PUT":"POST"),r&&u.append("_method","PUT");const D=await fetch(q,{method:"POST",body:u,headers:{Authorization:`Bearer ${x}`,Accept:"application/json"}});console.log("üìä Response status:",D.status);let b;try{b=await D.json()}catch{b=await D.text()}if(console.log("üìã Response data:",b),D.ok)alert(`‚úÖ Blog ${r?"actualizado":"creado"} correctamente.`),T(),R?.();else if(console.error("‚ùå Error response:",b),b.errors){let m=`‚ùå Errores de validaci√≥n:
`;Object.keys(b.errors).forEach(g=>{const O=Array.isArray(b.errors[g])?b.errors[g]:[b.errors[g]];m+=`‚Ä¢ ${g}: ${O.join(", ")}
`}),alert(m)}else alert(`‚ùå Error (${D.status}): ${b.message||JSON.stringify(b)}`)}catch(x){console.error("‚ùå Error en la solicitud:",x),alert("‚ùå Error en la conexi√≥n con el servidor.")}finally{E(!1)}};return _?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:e.jsxs("div",{className:"bg-white text-black px-8 py-6 rounded-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:s?"Editar Blog":"A√±adir Blog"}),e.jsxs("form",{onSubmit:ee,encType:"multipart/form-data",className:"space-y-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Informaci√≥n Principal & SEO"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4",children:[e.jsxs("label",{className:"block mb-2 font-medium",children:["Producto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"producto_id",value:a.producto_id,onChange:V,required:!0,className:"w-full bg-white text-black p-2 rounded-md border border-gray-300",disabled:f,children:[e.jsx("option",{value:"",children:f?"Cargando productos...":"-- Selecciona un producto --"}),Array.isArray(h)&&h.length>0?h.map(t=>e.jsx("option",{value:t.id.toString(),children:t.nombre||`Producto ${t.id}`},t.id)):!f&&e.jsx("option",{value:"",disabled:!0,children:"No hay productos disponibles"})]}),w&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Producto seleccionado: ",e.jsx("strong",{children:w})]}),h.length>0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["‚úÖ ",h.length," productos cargados"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block font-medium mb-1",children:["Subt√≠tulo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"subtitulo",value:a.subtitulo,onChange:A,className:"w-full border border-gray-300 rounded px-3 py-2",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Meta t√≠tulo"}),e.jsx("input",{type:"text",name:"meta_titulo",value:a.meta_titulo||"",onChange:A,placeholder:"T√≠tulo optimizado para SEO",className:"w-full border border-gray-300 rounded px-3 py-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recomendado: 50-60 caracteres"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Meta descripci√≥n"}),e.jsx("input",{type:"text",name:"meta_descripcion",value:a.meta_descripcion||"",onChange:A,placeholder:"Descripci√≥n optimizada para SEO",className:"w-full border border-gray-300 rounded px-3 py-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recomendado: 100-160 caracteres"})]}),e.jsxs("div",{className:"md:col-span-4",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Link (URL amigable)"}),e.jsx("input",{type:"text",name:"link",value:a.link,onChange:A,placeholder:"ejemplo: mi-blog-post",className:"w-full border border-gray-300 rounded px-3 py-2"})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"Im√°genes"}),e.jsxs("div",{className:"border border-green-400 rounded p-4 mb-8",children:[e.jsxs("label",{className:"block font-medium mb-2",children:["Imagen Principal ",!s&&e.jsx("span",{className:"text-red-500",children:"*"})]}),s&&s.imagen_principal&&e.jsx("img",{src:s.imagen_principal,alt:a.alt_imagen_principal||"Imagen principal",className:"w-full h-64 object-cover rounded mb-4 border"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>W(t,"imagen_principal"),className:"w-full file:py-2 file:px-3 file:border-0 file:bg-green-100 file:text-green-700 hover:file:bg-green-200"}),e.jsx("input",{type:"text",name:"alt_imagen_principal",placeholder:"Texto ALT para SEO",value:a.alt_imagen_principal,onChange:A,className:"mt-2 w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{className:"border border-green-400 rounded p-4",children:[e.jsx("label",{className:"block font-semibold mb-4",children:"Im√°genes Secundarias"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.imagenes_secundarias.map((t,r)=>e.jsxs("div",{className:"flex flex-col items-center",children:[s?.imagenes?.[r]?.ruta_imagen&&e.jsx("img",{src:s.imagenes[r].ruta_imagen,alt:a.alt_imagenes_secundarias[r]||`Imagen secundaria #${r+1}`,className:"w-full h-32 object-cover rounded mb-2 border"}),e.jsx("input",{type:"file",accept:"image/*",onChange:l=>G(l,r),className:"w-full file:py-2 file:px-3 file:border-0 file:bg-green-100 file:text-green-700 hover:file:bg-green-200"}),e.jsx("input",{type:"text",placeholder:`Texto ALT imagen secundaria #${r+1}`,value:a.alt_imagenes_secundarias[r],onChange:l=>J(l,r),className:"w-full border border-gray-300 rounded px-3 py-2 mt-2"})]},r))})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200 relative",children:[e.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4",children:["P√°rrafos ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"* Al menos un p√°rrafo debe tener contenido"}),a.parrafos.map((t,r)=>e.jsxs("div",{className:"relative mb-6",children:[e.jsx("textarea",{id:`parrafo-${r}`,value:t,onChange:l=>K(l,r),className:"w-full border border-gray-300 rounded px-3 py-2 pr-20",rows:4,placeholder:`P√°rrafo ${r+1} (opcional)`}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>Q(r),title:"Insertar enlace manual",className:"bg-blue-500 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg transition-all duration-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e.jsx("button",{type:"button",onClick:()=>Y(r),title:"Enlazar a producto",className:"bg-green-500 hover:bg-green-700 text-white p-2 rounded-full shadow-lg transition-all duration-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]})]},r))]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:T,className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",disabled:f,children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:f?"Procesando...":s?"Actualizar":"Crear"})]})]}),L&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[60]",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Insertar Enlace"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Texto seleccionado: ",e.jsxs("strong",{children:['"',v,'"']})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium mb-1",children:"URL del enlace"}),e.jsx("input",{type:"url",value:n,onChange:t=>i(t.target.value),placeholder:"https://ejemplo.com",className:"w-full border border-gray-300 rounded px-3 py-2",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>k(!1),className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Cancelar"}),e.jsx("button",{type:"button",onClick:X,disabled:!n.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white px-4 py-2 rounded",children:"Insertar"})]})]})}),F&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[60]",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Enlazar a Producto"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Texto seleccionado: ",e.jsxs("strong",{children:['"',v,'"']})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium mb-1",children:"Selecciona un producto"}),e.jsxs("select",{onChange:t=>{const r=parseInt(t.target.value),l=h.find(o=>o.id===r);l&&Z(l)},className:"w-full border border-gray-300 rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Seleccionar producto --"}),h.map(t=>e.jsx("option",{value:t.id,children:t.nombre},t.id))]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>I(!1),className:"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded",children:"Cancelar"})})]})})]})}):null},me=()=>{const[_,P]=c.useState([]),[s,R]=c.useState(1),h=10,[$,w]=c.useState(null),[M,f]=c.useState(!0),[E,L]=c.useState(!1),k=async()=>{f(!0);try{const n=localStorage.getItem("token"),i=await fetch(z(B.endpoints.blogs.list),{headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const d=await i.json();console.log("Datos recibidos:",d),d.success&&d.data?P(d.data):(console.error("Formato de respuesta inesperado:",d),P([]))}catch(n){console.error("‚ùå Error al cargar datos:",n),P([])}finally{f(!1)}};c.useEffect(()=>{k()},[]);const j=s*h,S=j-h,y=_.slice(S,j),N=n=>{R(n)},v=Math.ceil(_.length/h),C=async n=>{const i=localStorage.getItem("token");if(window.confirm("¬øEst√°s seguro de que deseas eliminar este blog?"))try{const a=await fetch(z(B.endpoints.blogs.delete(n)),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}});if(a.ok)P(p=>p.filter(A=>A.id!==n)),alert("‚úÖ Blog eliminado exitosamente");else{const p=await a.json().catch(()=>({}));alert(`‚ùå Error al eliminar el blog: ${p.message||"Error desconocido"}`)}}catch(a){console.error("Error al eliminar:",a),alert("‚ùå Error al conectar con el servidor")}},F=n=>n?n.startsWith("http")?n:`https://apiyuntas.yuntaspublicidad.com${n}`:"/placeholder-image.jpg",I=(n,i=50)=>n?n.length>i?n.substring(0,i)+"...":n:"";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"overflow-x-auto p-4",children:[e.jsxs(te,{tableType:"blogs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-950 text-white",children:[e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"ID"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"PRODUCTO"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"SUBT√çTULO"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"IMAGEN"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"FECHA"}),e.jsx("th",{className:"px-4 py-2 bg-cyan-400 text-white uppercase text-xs font-bold rounded-md",children:"ACCI√ìN"})]})}),e.jsx("tbody",{children:M?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-4 text-gray-500",children:"Cargando blogs..."})}):y.length>0?y.map(n=>e.jsxs("tr",{className:`text-center ${n.id%2===0?"bg-gray-100":"bg-gray-300"}`,children:[e.jsx("td",{className:"px-4 py-2 font-bold rounded-xl border border-gray-300",children:n.id}),e.jsx("td",{className:"px-4 py-2 font-bold rounded-xl border border-gray-300",children:I(n.nombre_producto||"Sin nombre",30)}),e.jsx("td",{className:"px-4 py-2 rounded-xl border border-gray-300",children:I(n.subtitulo,40)}),e.jsx("td",{className:"px-4 py-2 rounded-xl border border-gray-300",children:e.jsx("img",{src:F(n.imagen_principal),alt:n.nombre_producto||"Blog",className:"w-16 h-16 rounded-md mx-auto object-cover",onError:i=>{const d=i.target;d.src="/placeholder-image.jpg"}})}),e.jsx("td",{className:"px-4 py-2 rounded-xl border border-gray-300 text-sm",children:n.created_at?new Date(n.created_at).toLocaleDateString("es-ES"):"N/A"}),e.jsx("td",{className:"px-4 py-2 rounded-xl border border-gray-300",children:e.jsxs("div",{className:"flex justify-center gap-2 rounded-xl p-1",children:[e.jsx("button",{className:"p-2 text-red-600 hover:text-red-800 transition",title:"Eliminar",onClick:()=>C(n.id),children:e.jsx(ae,{size:18})}),e.jsx("button",{className:"p-2 text-yellow-600 hover:text-yellow-800 transition",title:"Editar",onClick:()=>{console.log("Blog a editar:",n),w(n),L(!0)},children:e.jsx(re,{size:18})})]})})]},n.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-4 text-gray-500",children:"No hay blogs disponibles"})})})]}),v>1&&e.jsxs("div",{className:"flex justify-center items-center mt-4 gap-2",children:[e.jsx("button",{onClick:()=>N(s-1),disabled:s===1,className:"px-4 py-2 bg-blue-950 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,v)},(n,i)=>{const d=i+1;return e.jsx("button",{onClick:()=>N(d),className:`px-3 py-2 rounded-md ${s===d?"bg-blue-950 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:d},d)})}),e.jsx("button",{onClick:()=>N(s+1),disabled:s===v,className:"px-4 py-2 bg-blue-950 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]}),e.jsx("button",{onClick:()=>{w(null),L(!0)},className:"mt-4 mb-6 bg-blue-950 hover:bg-blue-800 text-white text-lg px-10 py-2 rounded-full",children:"A√±adir Blog"}),e.jsx(se,{isOpen:E,setIsOpen:L,blogToEdit:$,onSuccess:()=>{w(null),L(!1),k()}})]})})};export{me as default};
